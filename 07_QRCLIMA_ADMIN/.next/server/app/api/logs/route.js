"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/logs/route";
exports.ids = ["app/api/logs/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/app");;

/***/ }),

/***/ "firebase-admin/auth":
/*!**************************************!*\
  !*** external "firebase-admin/auth" ***!
  \**************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/auth");;

/***/ }),

/***/ "firebase-admin/firestore":
/*!*******************************************!*\
  !*** external "firebase-admin/firestore" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/firestore");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flogs%2Froute&page=%2Fapi%2Flogs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flogs%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flogs%2Froute&page=%2Fapi%2Flogs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flogs%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_logs_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/logs/route.ts */ \"(rsc)/./app/api/logs/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_logs_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\nC_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_logs_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/logs/route\",\n        pathname: \"/api/logs\",\n        filename: \"route\",\n        bundlePath: \"app/api/logs/route\"\n    },\n    resolvedPagePath: \"C:\\\\TESIVIL\\\\AWS-TESIVIL\\\\AWS-TESIVIL\\\\07_QRCLIMA_ADMIN\\\\app\\\\api\\\\logs\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_logs_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/logs/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZsb2dzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZsb2dzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGbG9ncyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVEVTSVZJTCU1Q0FXUy1URVNJVklMJTVDQVdTLVRFU0lWSUwlNUMwN19RUkNMSU1BX0FETUlOJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVEVTSVZJTCU1Q0FXUy1URVNJVklMJTVDQVdTLVRFU0lWSUwlNUMwN19RUkNMSU1BX0FETUlOJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNpQztBQUM5RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3FyY2xpbWEtYWRtaW4vP2IxMWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFwwN19RUkNMSU1BX0FETUlOXFxcXGFwcFxcXFxhcGlcXFxcbG9nc1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvbG9ncy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2xvZ3NcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2xvZ3Mvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxURVNJVklMXFxcXEFXUy1URVNJVklMXFxcXEFXUy1URVNJVklMXFxcXDA3X1FSQ0xJTUFfQURNSU5cXFxcYXBwXFxcXGFwaVxcXFxsb2dzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9sb2dzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flogs%2Froute&page=%2Fapi%2Flogs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flogs%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/logs/route.ts":
/*!*******************************!*\
  !*** ./app/api/logs/route.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase-admin */ \"(rsc)/./lib/firebase-admin.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get(\"page\") || \"1\");\n        const limit = parseInt(searchParams.get(\"limit\") || \"20\");\n        const actionFilter = searchParams.get(\"action\");\n        if (!_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                logs: [],\n                hasMore: false\n            });\n        }\n        let query = _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb.collection(\"admin_logs\").orderBy(\"timestamp\", \"desc\");\n        if (actionFilter && actionFilter !== \"all\") {\n            query = query.where(\"action\", \"==\", actionFilter);\n        }\n        // Get one extra to determine if there are more\n        const snapshot = await query.limit(limit + 1).offset((page - 1) * limit).get();\n        const hasMore = snapshot.size > limit;\n        const logs = snapshot.docs.slice(0, limit).map((doc)=>{\n            const data = doc.data();\n            return {\n                id: doc.id,\n                action: data.action,\n                adminId: data.adminId,\n                adminEmail: data.adminEmail,\n                contentId: data.contentId,\n                contentType: data.contentType,\n                authorId: data.authorId,\n                userId: data.userId,\n                details: data.details,\n                timestamp: data.timestamp?.toDate?.()?.toISOString() || new Date().toISOString(),\n                ip: data.ip\n            };\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            logs,\n            hasMore\n        });\n    } catch (error) {\n        console.error(\"Error fetching audit logs:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch logs\",\n            logs: [],\n            hasMore: false\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2xvZ3Mvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTJDO0FBQ0k7QUFFeEMsZUFBZUUsSUFBSUMsT0FBZ0I7SUFDdEMsSUFBSTtRQUNBLE1BQU0sRUFBRUMsWUFBWSxFQUFFLEdBQUcsSUFBSUMsSUFBSUYsUUFBUUcsR0FBRztRQUM1QyxNQUFNQyxPQUFPQyxTQUFTSixhQUFhSyxHQUFHLENBQUMsV0FBVztRQUNsRCxNQUFNQyxRQUFRRixTQUFTSixhQUFhSyxHQUFHLENBQUMsWUFBWTtRQUNwRCxNQUFNRSxlQUFlUCxhQUFhSyxHQUFHLENBQUM7UUFFdEMsSUFBSSxDQUFDUix3REFBT0EsRUFBRTtZQUNWLE9BQU9ELHFEQUFZQSxDQUFDWSxJQUFJLENBQUM7Z0JBQUVDLE1BQU0sRUFBRTtnQkFBRUMsU0FBUztZQUFNO1FBQ3hEO1FBRUEsSUFBSUMsUUFBUWQsd0RBQU9BLENBQUNlLFVBQVUsQ0FBQyxjQUMxQkMsT0FBTyxDQUFDLGFBQWE7UUFFMUIsSUFBSU4sZ0JBQWdCQSxpQkFBaUIsT0FBTztZQUN4Q0ksUUFBUUEsTUFBTUcsS0FBSyxDQUFDLFVBQVUsTUFBTVA7UUFDeEM7UUFFQSwrQ0FBK0M7UUFDL0MsTUFBTVEsV0FBVyxNQUFNSixNQUNsQkwsS0FBSyxDQUFDQSxRQUFRLEdBQ2RVLE1BQU0sQ0FBQyxDQUFDYixPQUFPLEtBQUtHLE9BQ3BCRCxHQUFHO1FBRVIsTUFBTUssVUFBVUssU0FBU0UsSUFBSSxHQUFHWDtRQUNoQyxNQUFNRyxPQUFPTSxTQUFTRyxJQUFJLENBQUNDLEtBQUssQ0FBQyxHQUFHYixPQUFPYyxHQUFHLENBQUMsQ0FBQ0M7WUFDNUMsTUFBTUMsT0FBT0QsSUFBSUMsSUFBSTtZQUNyQixPQUFPO2dCQUNIQyxJQUFJRixJQUFJRSxFQUFFO2dCQUNWQyxRQUFRRixLQUFLRSxNQUFNO2dCQUNuQkMsU0FBU0gsS0FBS0csT0FBTztnQkFDckJDLFlBQVlKLEtBQUtJLFVBQVU7Z0JBQzNCQyxXQUFXTCxLQUFLSyxTQUFTO2dCQUN6QkMsYUFBYU4sS0FBS00sV0FBVztnQkFDN0JDLFVBQVVQLEtBQUtPLFFBQVE7Z0JBQ3ZCQyxRQUFRUixLQUFLUSxNQUFNO2dCQUNuQkMsU0FBU1QsS0FBS1MsT0FBTztnQkFDckJDLFdBQVdWLEtBQUtVLFNBQVMsRUFBRUMsWUFBWUMsaUJBQWlCLElBQUlDLE9BQU9ELFdBQVc7Z0JBQzlFRSxJQUFJZCxLQUFLYyxFQUFFO1lBQ2Y7UUFDSjtRQUVBLE9BQU94QyxxREFBWUEsQ0FBQ1ksSUFBSSxDQUFDO1lBQUVDO1lBQU1DO1FBQVE7SUFDN0MsRUFBRSxPQUFPMkIsT0FBTztRQUNaQyxRQUFRRCxLQUFLLENBQUMsOEJBQThCQTtRQUM1QyxPQUFPekMscURBQVlBLENBQUNZLElBQUksQ0FDcEI7WUFBRTZCLE9BQU87WUFBd0I1QixNQUFNLEVBQUU7WUFBRUMsU0FBUztRQUFNLEdBQzFEO1lBQUU2QixRQUFRO1FBQUk7SUFFdEI7QUFDSiIsInNvdXJjZXMiOlsid2VicGFjazovL3FyY2xpbWEtYWRtaW4vLi9hcHAvYXBpL2xvZ3Mvcm91dGUudHM/ODdjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGFkbWluRGIgfSBmcm9tICdAL2xpYi9maXJlYmFzZS1hZG1pbic7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdwYWdlJykgfHwgJzEnKTtcclxuICAgICAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykgfHwgJzIwJyk7XHJcbiAgICAgICAgY29uc3QgYWN0aW9uRmlsdGVyID0gc2VhcmNoUGFyYW1zLmdldCgnYWN0aW9uJyk7XHJcblxyXG4gICAgICAgIGlmICghYWRtaW5EYikge1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBsb2dzOiBbXSwgaGFzTW9yZTogZmFsc2UgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcXVlcnkgPSBhZG1pbkRiLmNvbGxlY3Rpb24oJ2FkbWluX2xvZ3MnKVxyXG4gICAgICAgICAgICAub3JkZXJCeSgndGltZXN0YW1wJywgJ2Rlc2MnKTtcclxuXHJcbiAgICAgICAgaWYgKGFjdGlvbkZpbHRlciAmJiBhY3Rpb25GaWx0ZXIgIT09ICdhbGwnKSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkud2hlcmUoJ2FjdGlvbicsICc9PScsIGFjdGlvbkZpbHRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBHZXQgb25lIGV4dHJhIHRvIGRldGVybWluZSBpZiB0aGVyZSBhcmUgbW9yZVxyXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcXVlcnlcclxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0ICsgMSlcclxuICAgICAgICAgICAgLm9mZnNldCgocGFnZSAtIDEpICogbGltaXQpXHJcbiAgICAgICAgICAgIC5nZXQoKTtcclxuXHJcbiAgICAgICAgY29uc3QgaGFzTW9yZSA9IHNuYXBzaG90LnNpemUgPiBsaW1pdDtcclxuICAgICAgICBjb25zdCBsb2dzID0gc25hcHNob3QuZG9jcy5zbGljZSgwLCBsaW1pdCkubWFwKChkb2MpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAgICAgYWN0aW9uOiBkYXRhLmFjdGlvbixcclxuICAgICAgICAgICAgICAgIGFkbWluSWQ6IGRhdGEuYWRtaW5JZCxcclxuICAgICAgICAgICAgICAgIGFkbWluRW1haWw6IGRhdGEuYWRtaW5FbWFpbCxcclxuICAgICAgICAgICAgICAgIGNvbnRlbnRJZDogZGF0YS5jb250ZW50SWQsXHJcbiAgICAgICAgICAgICAgICBjb250ZW50VHlwZTogZGF0YS5jb250ZW50VHlwZSxcclxuICAgICAgICAgICAgICAgIGF1dGhvcklkOiBkYXRhLmF1dGhvcklkLFxyXG4gICAgICAgICAgICAgICAgdXNlcklkOiBkYXRhLnVzZXJJZCxcclxuICAgICAgICAgICAgICAgIGRldGFpbHM6IGRhdGEuZGV0YWlscyxcclxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogZGF0YS50aW1lc3RhbXA/LnRvRGF0ZT8uKCk/LnRvSVNPU3RyaW5nKCkgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgaXA6IGRhdGEuaXAsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGxvZ3MsIGhhc01vcmUgfSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGF1ZGl0IGxvZ3M6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBsb2dzJywgbG9nczogW10sIGhhc01vcmU6IGZhbHNlIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImFkbWluRGIiLCJHRVQiLCJyZXF1ZXN0Iiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGFnZSIsInBhcnNlSW50IiwiZ2V0IiwibGltaXQiLCJhY3Rpb25GaWx0ZXIiLCJqc29uIiwibG9ncyIsImhhc01vcmUiLCJxdWVyeSIsImNvbGxlY3Rpb24iLCJvcmRlckJ5Iiwid2hlcmUiLCJzbmFwc2hvdCIsIm9mZnNldCIsInNpemUiLCJkb2NzIiwic2xpY2UiLCJtYXAiLCJkb2MiLCJkYXRhIiwiaWQiLCJhY3Rpb24iLCJhZG1pbklkIiwiYWRtaW5FbWFpbCIsImNvbnRlbnRJZCIsImNvbnRlbnRUeXBlIiwiYXV0aG9ySWQiLCJ1c2VySWQiLCJkZXRhaWxzIiwidGltZXN0YW1wIiwidG9EYXRlIiwidG9JU09TdHJpbmciLCJEYXRlIiwiaXAiLCJlcnJvciIsImNvbnNvbGUiLCJzdGF0dXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/logs/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/firebase-admin.ts":
/*!*******************************!*\
  !*** ./lib/firebase-admin.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminAuth: () => (/* binding */ adminAuth),\n/* harmony export */   adminDb: () => (/* binding */ adminDb),\n/* harmony export */   getFlaggedContent: () => (/* binding */ getFlaggedContent),\n/* harmony export */   getGlobalStats: () => (/* binding */ getGlobalStats),\n/* harmony export */   getPendingOrders: () => (/* binding */ getPendingOrders),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   isUserAdmin: () => (/* binding */ isUserAdmin),\n/* harmony export */   markOrderShipped: () => (/* binding */ markOrderShipped),\n/* harmony export */   moderateContent: () => (/* binding */ moderateContent),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase-admin/firestore */ \"firebase-admin/firestore\");\n/* harmony import */ var firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase-admin/auth */ \"firebase-admin/auth\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// ============================================\n// Firebase Admin SDK Configuration\n// ============================================\n// \n// INSTRUCCIONES DE CONFIGURACIÓN:\n// \n// 1. Ve a Firebase Console > Configuración del proyecto > Cuentas de servicio\n// 2. Haz clic en \"Generar nueva clave privada\"\n// 3. Guarda el archivo JSON de forma segura\n// 4. Configura las variables de entorno:\n//    - FIREBASE_PROJECT_ID\n//    - FIREBASE_CLIENT_EMAIL\n//    - FIREBASE_PRIVATE_KEY (con saltos de línea escapados como \\n)\n// \n// ============================================\n// Parse private key - handle different escape formats\nconst formatPrivateKey = (key)=>{\n    if (!key) return undefined;\n    // Remove surrounding quotes if present\n    let cleaned = key.replace(/^[\"']|[\"']$/g, \"\");\n    // Replace literal \\n with actual newlines\n    cleaned = cleaned.replace(/\\\\n/g, \"\\n\");\n    return cleaned;\n};\nlet adminDb;\nlet adminAuth;\ntry {\n    const privateKey = formatPrivateKey(process.env.FIREBASE_PRIVATE_KEY);\n    if (!process.env.FIREBASE_PROJECT_ID || !process.env.FIREBASE_CLIENT_EMAIL || !privateKey) {\n        console.warn(\"Firebase Admin: Missing required environment variables\");\n        console.warn(\"FIREBASE_PROJECT_ID:\", !!process.env.FIREBASE_PROJECT_ID);\n        console.warn(\"FIREBASE_CLIENT_EMAIL:\", !!process.env.FIREBASE_CLIENT_EMAIL);\n        console.warn(\"FIREBASE_PRIVATE_KEY:\", !!privateKey);\n    }\n    const firebaseAdminConfig = {\n        credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n            projectId: process.env.FIREBASE_PROJECT_ID,\n            clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n            privateKey: privateKey\n        })\n    };\n    // Inicializar solo si no hay instancias existentes\n    const app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseAdminConfig) : (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    // Exportar instancias\n    adminDb = (0,firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\n    adminAuth = (0,firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n} catch (error) {\n    console.error(\"Firebase Admin initialization error:\", error);\n    // Create mock objects to prevent crashes\n    adminDb = null;\n    adminAuth = null;\n}\n\n// ============================================\n// Helper Functions\n// ============================================\n/**\r\n * Verifica si un usuario es administrador\r\n */ const isUserAdmin = async (email)=>{\n    const adminEmails = process.env.ADMIN_EMAILS?.split(\",\").map((e)=>e.trim()) || [];\n    return adminEmails.includes(email);\n};\n/**\r\n * Obtiene estadísticas globales de la app\r\n */ const getGlobalStats = async ()=>{\n    try {\n        // Usuarios totales\n        const usersSnapshot = await adminDb.collection(\"users\").count().get();\n        const totalUsers = usersSnapshot.data().count;\n        // Usuarios PRO - La app usa subscription: 'Pro' | 'Pro+' con verificación de fecha\n        // Necesitamos contar usuarios con subscription activa y no expirada\n        const now = new Date();\n        const proSnapshot = await adminDb.collection(\"users\").where(\"subscription\", \"in\", [\n            \"Pro\",\n            \"Pro+\"\n        ]).get();\n        // Filtrar solo los que tienen suscripción vigente\n        const proUsers = proSnapshot.docs.filter((doc)=>{\n            const data = doc.data();\n            const endDate = data.subscriptionEndDate?.toDate?.() || (data.subscriptionEndDate ? new Date(data.subscriptionEndDate) : null);\n            // Si no hay fecha de expiración o no ha expirado, es PRO activo\n            return !endDate || endDate >= now;\n        }).length;\n        // Servicios del mes\n        const startOfMonth = new Date();\n        startOfMonth.setDate(1);\n        startOfMonth.setHours(0, 0, 0, 0);\n        const servicesSnapshot = await adminDb.collection(\"services\").where(\"createdAt\", \">=\", startOfMonth).count().get();\n        const servicesThisMonth = servicesSnapshot.data().count;\n        // Tokens en circulación (suma de balances)\n        const usersWithTokens = await adminDb.collection(\"users\").get();\n        let tokenFloat = 0;\n        usersWithTokens.docs.forEach((doc)=>{\n            tokenFloat += doc.data().tokenBalance || 0;\n        });\n        // Pedidos pendientes\n        const pendingOrdersSnapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).count().get();\n        const pendingOrders = pendingOrdersSnapshot.data().count;\n        return {\n            totalUsers,\n            proUsers,\n            servicesThisMonth,\n            tokenFloat,\n            pendingOrders\n        };\n    } catch (error) {\n        console.error(\"Error fetching global stats:\", error);\n        return null;\n    }\n};\n/**\r\n * Obtiene usuarios con paginación\r\n */ const getUsers = async (page = 1, limit = 20, searchQuery)=>{\n    try {\n        let query = adminDb.collection(\"users\").orderBy(\"createdAt\", \"desc\").limit(limit).offset((page - 1) * limit);\n        // TODO: Para búsqueda necesitaremos índices compuestos o Algolia/Typesense\n        // Por ahora retornamos sin filtro de búsqueda del lado del servidor\n        const snapshot = await query.get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching users:\", error);\n        return [];\n    }\n};\n/**\r\n * Actualiza un usuario\r\n */ const updateUser = async (userId, updates)=>{\n    try {\n        await adminDb.collection(\"users\").doc(userId).update({\n            ...updates,\n            updatedAt: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene órdenes pendientes\r\n */ const getPendingOrders = async ()=>{\n    try {\n        const snapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).orderBy(\"createdAt\", \"desc\").get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching pending orders:\", error);\n        return [];\n    }\n};\n/**\r\n * Marca una orden como enviada\r\n */ const markOrderShipped = async (orderId, trackingNumber, trackingCarrier)=>{\n    try {\n        await adminDb.collection(\"orders\").doc(orderId).update({\n            status: \"shipped\",\n            trackingNumber,\n            trackingCarrier,\n            shippedAt: new Date()\n        });\n        // TODO: Disparar notificación push al usuario\n        return true;\n    } catch (error) {\n        console.error(\"Error marking order as shipped:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene contenido flaggeado para moderación\r\n */ const getFlaggedContent = async ()=>{\n    try {\n        // Hilos flaggeados\n        const threadsSnapshot = await adminDb.collection(\"sos_threads\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        // Comentarios flaggeados\n        const commentsSnapshot = await adminDb.collection(\"sos_comments\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        const threads = threadsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"thread\",\n                ...doc.data()\n            }));\n        const comments = commentsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"comment\",\n                ...doc.data()\n            }));\n        return [\n            ...threads,\n            ...comments\n        ].sort((a, b)=>b.createdAt?.toDate?.() - a.createdAt?.toDate?.());\n    } catch (error) {\n        console.error(\"Error fetching flagged content:\", error);\n        return [];\n    }\n};\n/**\r\n * Acciones de moderación\r\n */ const moderateContent = async (contentId, contentType, action)=>{\n    try {\n        const collection = contentType === \"thread\" ? \"sos_threads\" : \"sos_comments\";\n        const docRef = adminDb.collection(collection).doc(contentId);\n        const doc = await docRef.get();\n        if (!doc.exists) {\n            throw new Error(\"Content not found\");\n        }\n        const authorId = doc.data()?.authorId;\n        switch(action){\n            case \"dismiss\":\n                await docRef.update({\n                    isOffensive: false,\n                    reviewedAt: new Date()\n                });\n                break;\n            case \"delete\":\n                await docRef.delete();\n                break;\n            case \"ban\":\n                await docRef.delete();\n                if (authorId) {\n                    await adminDb.collection(\"users\").doc(authorId).update({\n                        is_banned: true,\n                        bannedAt: new Date(),\n                        banReason: \"Contenido inapropiado\"\n                    });\n                }\n                break;\n        }\n        // Log de auditoría\n        await adminDb.collection(\"admin_logs\").add({\n            action: `moderation_${action}`,\n            contentId,\n            contentType,\n            authorId,\n            adminId: \"system\",\n            timestamp: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error moderating content:\", error);\n        return false;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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aEU7d0JBQ2RpRSxXQUFXO29CQUNmO2dCQUNKO2dCQUNBO1FBQ1I7UUFFQSxtQkFBbUI7UUFDbkIsTUFBTW5HLFFBQVE0QixVQUFVLENBQUMsY0FBY3dFLEdBQUcsQ0FBQztZQUN2Q1gsUUFBUSxDQUFDLFdBQVcsRUFBRUEsT0FBTyxDQUFDO1lBQzlCRjtZQUNBQztZQUNBSztZQUNBUSxTQUFTO1lBQ1RDLFdBQVcsSUFBSXBFO1FBQ25CO1FBRUEsT0FBTztJQUNYLEVBQUUsT0FBT2xCLE9BQU87UUFDWlIsUUFBUVEsS0FBSyxDQUFDLDZCQUE2QkE7UUFDM0MsT0FBTztJQUNYO0FBQ0osRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3FyY2xpbWEtYWRtaW4vLi9saWIvZmlyZWJhc2UtYWRtaW4udHM/NmE0NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzLCBjZXJ0IH0gZnJvbSAnZmlyZWJhc2UtYWRtaW4vYXBwJztcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UtYWRtaW4vZmlyZXN0b3JlJztcclxuaW1wb3J0IHsgZ2V0QXV0aCB9IGZyb20gJ2ZpcmViYXNlLWFkbWluL2F1dGgnO1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gRmlyZWJhc2UgQWRtaW4gU0RLIENvbmZpZ3VyYXRpb25cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gXHJcbi8vIElOU1RSVUNDSU9ORVMgREUgQ09ORklHVVJBQ0nDk046XHJcbi8vIFxyXG4vLyAxLiBWZSBhIEZpcmViYXNlIENvbnNvbGUgPiBDb25maWd1cmFjacOzbiBkZWwgcHJveWVjdG8gPiBDdWVudGFzIGRlIHNlcnZpY2lvXHJcbi8vIDIuIEhheiBjbGljIGVuIFwiR2VuZXJhciBudWV2YSBjbGF2ZSBwcml2YWRhXCJcclxuLy8gMy4gR3VhcmRhIGVsIGFyY2hpdm8gSlNPTiBkZSBmb3JtYSBzZWd1cmFcclxuLy8gNC4gQ29uZmlndXJhIGxhcyB2YXJpYWJsZXMgZGUgZW50b3JubzpcclxuLy8gICAgLSBGSVJFQkFTRV9QUk9KRUNUX0lEXHJcbi8vICAgIC0gRklSRUJBU0VfQ0xJRU5UX0VNQUlMXHJcbi8vICAgIC0gRklSRUJBU0VfUFJJVkFURV9LRVkgKGNvbiBzYWx0b3MgZGUgbMOtbmVhIGVzY2FwYWRvcyBjb21vIFxcbilcclxuLy8gXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vLyBQYXJzZSBwcml2YXRlIGtleSAtIGhhbmRsZSBkaWZmZXJlbnQgZXNjYXBlIGZvcm1hdHNcclxuY29uc3QgZm9ybWF0UHJpdmF0ZUtleSA9IChrZXk6IHN0cmluZyB8IHVuZGVmaW5lZCk6IHN0cmluZyB8IHVuZGVmaW5lZCA9PiB7XHJcbiAgICBpZiAoIWtleSkgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIC8vIFJlbW92ZSBzdXJyb3VuZGluZyBxdW90ZXMgaWYgcHJlc2VudFxyXG4gICAgbGV0IGNsZWFuZWQgPSBrZXkucmVwbGFjZSgvXltcIiddfFtcIiddJC9nLCAnJyk7XHJcbiAgICAvLyBSZXBsYWNlIGxpdGVyYWwgXFxuIHdpdGggYWN0dWFsIG5ld2xpbmVzXHJcbiAgICBjbGVhbmVkID0gY2xlYW5lZC5yZXBsYWNlKC9cXFxcbi9nLCAnXFxuJyk7XHJcbiAgICByZXR1cm4gY2xlYW5lZDtcclxufTtcclxuXHJcbmxldCBhZG1pbkRiOiBGaXJlYmFzZUZpcmVzdG9yZS5GaXJlc3RvcmU7XHJcbmxldCBhZG1pbkF1dGg6IFJldHVyblR5cGU8dHlwZW9mIGdldEF1dGg+O1xyXG5cclxudHJ5IHtcclxuICAgIGNvbnN0IHByaXZhdGVLZXkgPSBmb3JtYXRQcml2YXRlS2V5KHByb2Nlc3MuZW52LkZJUkVCQVNFX1BSSVZBVEVfS0VZKTtcclxuXHJcbiAgICBpZiAoIXByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQgfHwgIXByb2Nlc3MuZW52LkZJUkVCQVNFX0NMSUVOVF9FTUFJTCB8fCAhcHJpdmF0ZUtleSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRmlyZWJhc2UgQWRtaW46IE1pc3NpbmcgcmVxdWlyZWQgZW52aXJvbm1lbnQgdmFyaWFibGVzJyk7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdGSVJFQkFTRV9QUk9KRUNUX0lEOicsICEhcHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJPSkVDVF9JRCk7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdGSVJFQkFTRV9DTElFTlRfRU1BSUw6JywgISFwcm9jZXNzLmVudi5GSVJFQkFTRV9DTElFTlRfRU1BSUwpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRklSRUJBU0VfUFJJVkFURV9LRVk6JywgISFwcml2YXRlS2V5KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBmaXJlYmFzZUFkbWluQ29uZmlnID0ge1xyXG4gICAgICAgIGNyZWRlbnRpYWw6IGNlcnQoe1xyXG4gICAgICAgICAgICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQsXHJcbiAgICAgICAgICAgIGNsaWVudEVtYWlsOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9DTElFTlRfRU1BSUwsXHJcbiAgICAgICAgICAgIHByaXZhdGVLZXk6IHByaXZhdGVLZXksXHJcbiAgICAgICAgfSksXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIEluaWNpYWxpemFyIHNvbG8gc2kgbm8gaGF5IGluc3RhbmNpYXMgZXhpc3RlbnRlc1xyXG4gICAgY29uc3QgYXBwID0gZ2V0QXBwcygpLmxlbmd0aCA9PT0gMCA/IGluaXRpYWxpemVBcHAoZmlyZWJhc2VBZG1pbkNvbmZpZykgOiBnZXRBcHBzKClbMF07XHJcblxyXG4gICAgLy8gRXhwb3J0YXIgaW5zdGFuY2lhc1xyXG4gICAgYWRtaW5EYiA9IGdldEZpcmVzdG9yZShhcHApO1xyXG4gICAgYWRtaW5BdXRoID0gZ2V0QXV0aChhcHApO1xyXG59IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRmlyZWJhc2UgQWRtaW4gaW5pdGlhbGl6YXRpb24gZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgLy8gQ3JlYXRlIG1vY2sgb2JqZWN0cyB0byBwcmV2ZW50IGNyYXNoZXNcclxuICAgIGFkbWluRGIgPSBudWxsIGFzIGFueTtcclxuICAgIGFkbWluQXV0aCA9IG51bGwgYXMgYW55O1xyXG59XHJcblxyXG5leHBvcnQgeyBhZG1pbkRiLCBhZG1pbkF1dGggfTtcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEhlbHBlciBGdW5jdGlvbnNcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8qKlxyXG4gKiBWZXJpZmljYSBzaSB1biB1c3VhcmlvIGVzIGFkbWluaXN0cmFkb3JcclxuICovXHJcbmV4cG9ydCBjb25zdCBpc1VzZXJBZG1pbiA9IGFzeW5jIChlbWFpbDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcbiAgICBjb25zdCBhZG1pbkVtYWlscyA9IHByb2Nlc3MuZW52LkFETUlOX0VNQUlMUz8uc3BsaXQoJywnKS5tYXAoZSA9PiBlLnRyaW0oKSkgfHwgW107XHJcbiAgICByZXR1cm4gYWRtaW5FbWFpbHMuaW5jbHVkZXMoZW1haWwpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgZXN0YWTDrXN0aWNhcyBnbG9iYWxlcyBkZSBsYSBhcHBcclxuICovXHJcbmV4cG9ydCBjb25zdCBnZXRHbG9iYWxTdGF0cyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gVXN1YXJpb3MgdG90YWxlc1xyXG4gICAgICAgIGNvbnN0IHVzZXJzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuY291bnQoKS5nZXQoKTtcclxuICAgICAgICBjb25zdCB0b3RhbFVzZXJzID0gdXNlcnNTbmFwc2hvdC5kYXRhKCkuY291bnQ7XHJcblxyXG4gICAgICAgIC8vIFVzdWFyaW9zIFBSTyAtIExhIGFwcCB1c2Egc3Vic2NyaXB0aW9uOiAnUHJvJyB8ICdQcm8rJyBjb24gdmVyaWZpY2FjacOzbiBkZSBmZWNoYVxyXG4gICAgICAgIC8vIE5lY2VzaXRhbW9zIGNvbnRhciB1c3VhcmlvcyBjb24gc3Vic2NyaXB0aW9uIGFjdGl2YSB5IG5vIGV4cGlyYWRhXHJcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgICBjb25zdCBwcm9TbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICAgICAgICAud2hlcmUoJ3N1YnNjcmlwdGlvbicsICdpbicsIFsnUHJvJywgJ1BybysnXSlcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICAvLyBGaWx0cmFyIHNvbG8gbG9zIHF1ZSB0aWVuZW4gc3VzY3JpcGNpw7NuIHZpZ2VudGVcclxuICAgICAgICBjb25zdCBwcm9Vc2VycyA9IHByb1NuYXBzaG90LmRvY3MuZmlsdGVyKGRvYyA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBkb2MuZGF0YSgpO1xyXG4gICAgICAgICAgICBjb25zdCBlbmREYXRlID0gZGF0YS5zdWJzY3JpcHRpb25FbmREYXRlPy50b0RhdGU/LigpIHx8XHJcbiAgICAgICAgICAgICAgICAoZGF0YS5zdWJzY3JpcHRpb25FbmREYXRlID8gbmV3IERhdGUoZGF0YS5zdWJzY3JpcHRpb25FbmREYXRlKSA6IG51bGwpO1xyXG4gICAgICAgICAgICAvLyBTaSBubyBoYXkgZmVjaGEgZGUgZXhwaXJhY2nDs24gbyBubyBoYSBleHBpcmFkbywgZXMgUFJPIGFjdGl2b1xyXG4gICAgICAgICAgICByZXR1cm4gIWVuZERhdGUgfHwgZW5kRGF0ZSA+PSBub3c7XHJcbiAgICAgICAgfSkubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBTZXJ2aWNpb3MgZGVsIG1lc1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0T2ZNb250aCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgc3RhcnRPZk1vbnRoLnNldERhdGUoMSk7XHJcbiAgICAgICAgc3RhcnRPZk1vbnRoLnNldEhvdXJzKDAsIDAsIDAsIDApO1xyXG5cclxuICAgICAgICBjb25zdCBzZXJ2aWNlc1NuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdzZXJ2aWNlcycpXHJcbiAgICAgICAgICAgIC53aGVyZSgnY3JlYXRlZEF0JywgJz49Jywgc3RhcnRPZk1vbnRoKVxyXG4gICAgICAgICAgICAuY291bnQoKVxyXG4gICAgICAgICAgICAuZ2V0KCk7XHJcbiAgICAgICAgY29uc3Qgc2VydmljZXNUaGlzTW9udGggPSBzZXJ2aWNlc1NuYXBzaG90LmRhdGEoKS5jb3VudDtcclxuXHJcbiAgICAgICAgLy8gVG9rZW5zIGVuIGNpcmN1bGFjacOzbiAoc3VtYSBkZSBiYWxhbmNlcylcclxuICAgICAgICBjb25zdCB1c2Vyc1dpdGhUb2tlbnMgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZ2V0KCk7XHJcbiAgICAgICAgbGV0IHRva2VuRmxvYXQgPSAwO1xyXG4gICAgICAgIHVzZXJzV2l0aFRva2Vucy5kb2NzLmZvckVhY2goZG9jID0+IHtcclxuICAgICAgICAgICAgdG9rZW5GbG9hdCArPSBkb2MuZGF0YSgpLnRva2VuQmFsYW5jZSB8fCAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQZWRpZG9zIHBlbmRpZW50ZXNcclxuICAgICAgICBjb25zdCBwZW5kaW5nT3JkZXJzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ29yZGVycycpXHJcbiAgICAgICAgICAgIC53aGVyZSgnc3RhdHVzJywgJ2luJywgWydwYWlkJywgJ3Byb2Nlc3NpbmcnXSlcclxuICAgICAgICAgICAgLmNvdW50KClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG4gICAgICAgIGNvbnN0IHBlbmRpbmdPcmRlcnMgPSBwZW5kaW5nT3JkZXJzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3RhbFVzZXJzLFxyXG4gICAgICAgICAgICBwcm9Vc2VycyxcclxuICAgICAgICAgICAgc2VydmljZXNUaGlzTW9udGgsXHJcbiAgICAgICAgICAgIHRva2VuRmxvYXQsXHJcbiAgICAgICAgICAgIHBlbmRpbmdPcmRlcnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZ2xvYmFsIHN0YXRzOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIHVzdWFyaW9zIGNvbiBwYWdpbmFjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gYXN5bmMgKFxyXG4gICAgcGFnZTogbnVtYmVyID0gMSxcclxuICAgIGxpbWl0OiBudW1iZXIgPSAyMCxcclxuICAgIHNlYXJjaFF1ZXJ5Pzogc3RyaW5nXHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgcXVlcnkgPSBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJylcclxuICAgICAgICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJylcclxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAgICAgICAub2Zmc2V0KChwYWdlIC0gMSkgKiBsaW1pdCk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IFBhcmEgYsO6c3F1ZWRhIG5lY2VzaXRhcmVtb3Mgw61uZGljZXMgY29tcHVlc3RvcyBvIEFsZ29saWEvVHlwZXNlbnNlXHJcbiAgICAgICAgLy8gUG9yIGFob3JhIHJldG9ybmFtb3Mgc2luIGZpbHRybyBkZSBiw7pzcXVlZGEgZGVsIGxhZG8gZGVsIHNlcnZpZG9yXHJcblxyXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcXVlcnkuZ2V0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXJzOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQWN0dWFsaXphIHVuIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKFxyXG4gICAgdXNlcklkOiBzdHJpbmcsXHJcbiAgICB1cGRhdGVzOiB7XHJcbiAgICAgICAgaXNfYmFubmVkPzogYm9vbGVhbjtcclxuICAgICAgICBpc19wcmVtaXVtPzogYm9vbGVhbjtcclxuICAgICAgICBlbGlnaWJsZV9mb3JfZGlyZWN0b3J5PzogYm9vbGVhbjtcclxuICAgICAgICB0b2tlbl9iYWxhbmNlPzogbnVtYmVyO1xyXG4gICAgfVxyXG4pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh1c2VySWQpLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIC4uLnVwZGF0ZXMsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgw7NyZGVuZXMgcGVuZGllbnRlc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldFBlbmRpbmdPcmRlcnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdvcmRlcnMnKVxyXG4gICAgICAgICAgICAud2hlcmUoJ3N0YXR1cycsICdpbicsIFsncGFpZCcsICdwcm9jZXNzaW5nJ10pXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5nZXQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGVuZGluZyBvcmRlcnM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBNYXJjYSB1bmEgb3JkZW4gY29tbyBlbnZpYWRhXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWFya09yZGVyU2hpcHBlZCA9IGFzeW5jIChcclxuICAgIG9yZGVySWQ6IHN0cmluZyxcclxuICAgIHRyYWNraW5nTnVtYmVyOiBzdHJpbmcsXHJcbiAgICB0cmFja2luZ0NhcnJpZXI6IHN0cmluZ1xyXG4pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdvcmRlcnMnKS5kb2Mob3JkZXJJZCkudXBkYXRlKHtcclxuICAgICAgICAgICAgc3RhdHVzOiAnc2hpcHBlZCcsXHJcbiAgICAgICAgICAgIHRyYWNraW5nTnVtYmVyLFxyXG4gICAgICAgICAgICB0cmFja2luZ0NhcnJpZXIsXHJcbiAgICAgICAgICAgIHNoaXBwZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogRGlzcGFyYXIgbm90aWZpY2FjacOzbiBwdXNoIGFsIHVzdWFyaW9cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1hcmtpbmcgb3JkZXIgYXMgc2hpcHBlZDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgY29udGVuaWRvIGZsYWdnZWFkbyBwYXJhIG1vZGVyYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0RmxhZ2dlZENvbnRlbnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEhpbG9zIGZsYWdnZWFkb3NcclxuICAgICAgICBjb25zdCB0aHJlYWRzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3Nvc190aHJlYWRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICAvLyBDb21lbnRhcmlvcyBmbGFnZ2VhZG9zXHJcbiAgICAgICAgY29uc3QgY29tbWVudHNTbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignc29zX2NvbW1lbnRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICBjb25zdCB0aHJlYWRzID0gdGhyZWFkc1NuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICB0eXBlOiAndGhyZWFkJyBhcyBjb25zdCxcclxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzID0gY29tbWVudHNTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgdHlwZTogJ2NvbW1lbnQnIGFzIGNvbnN0LFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFsuLi50aHJlYWRzLCAuLi5jb21tZW50c10uc29ydCgoYTogYW55LCBiOiBhbnkpID0+XHJcbiAgICAgICAgICAgIGIuY3JlYXRlZEF0Py50b0RhdGU/LigpIC0gYS5jcmVhdGVkQXQ/LnRvRGF0ZT8uKClcclxuICAgICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbGFnZ2VkIGNvbnRlbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBY2Npb25lcyBkZSBtb2RlcmFjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1vZGVyYXRlQ29udGVudCA9IGFzeW5jIChcclxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxyXG4gICAgY29udGVudFR5cGU6ICd0aHJlYWQnIHwgJ2NvbW1lbnQnLFxyXG4gICAgYWN0aW9uOiAnZGlzbWlzcycgfCAnZGVsZXRlJyB8ICdiYW4nXHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29udGVudFR5cGUgPT09ICd0aHJlYWQnID8gJ3Nvc190aHJlYWRzJyA6ICdzb3NfY29tbWVudHMnO1xyXG4gICAgICAgIGNvbnN0IGRvY1JlZiA9IGFkbWluRGIuY29sbGVjdGlvbihjb2xsZWN0aW9uKS5kb2MoY29udGVudElkKTtcclxuICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCBkb2NSZWYuZ2V0KCk7XHJcblxyXG4gICAgICAgIGlmICghZG9jLmV4aXN0cykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdXRob3JJZCA9IGRvYy5kYXRhKCk/LmF1dGhvcklkO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdkaXNtaXNzJzpcclxuICAgICAgICAgICAgICAgIGF3YWl0IGRvY1JlZi51cGRhdGUoeyBpc09mZmVuc2l2ZTogZmFsc2UsIHJldmlld2VkQXQ6IG5ldyBEYXRlKCkgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2Jhbic6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXV0aG9ySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKGF1dGhvcklkKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19iYW5uZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhbm5lZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5SZWFzb246ICdDb250ZW5pZG8gaW5hcHJvcGlhZG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2cgZGUgYXVkaXRvcsOtYVxyXG4gICAgICAgIGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignYWRtaW5fbG9ncycpLmFkZCh7XHJcbiAgICAgICAgICAgIGFjdGlvbjogYG1vZGVyYXRpb25fJHthY3Rpb259YCxcclxuICAgICAgICAgICAgY29udGVudElkLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZSxcclxuICAgICAgICAgICAgYXV0aG9ySWQsXHJcbiAgICAgICAgICAgIGFkbWluSWQ6ICdzeXN0ZW0nLCAvLyBUT0RPOiBPYnRlbmVyIGRlbCB1c3VhcmlvIGF1dGVudGljYWRvXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1vZGVyYXRpbmcgY29udGVudDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJjZXJ0IiwiZ2V0RmlyZXN0b3JlIiwiZ2V0QXV0aCIsImZvcm1hdFByaXZhdGVLZXkiLCJrZXkiLCJ1bmRlZmluZWQiLCJjbGVhbmVkIiwicmVwbGFjZSIsImFkbWluRGIiLCJhZG1pbkF1dGgiLCJwcml2YXRlS2V5IiwicHJvY2VzcyIsImVudiIsIkZJUkVCQVNFX1BSSVZBVEVfS0VZIiwiRklSRUJBU0VfUFJPSkVDVF9JRCIsIkZJUkVCQVNFX0NMSUVOVF9FTUFJTCIsImNvbnNvbGUiLCJ3YXJuIiwiZmlyZWJhc2VBZG1pbkNvbmZpZyIsImNyZWRlbnRpYWwiLCJwcm9qZWN0SWQiLCJjbGllbnRFbWFpbCIsImFwcCIsImxlbmd0aCIsImVycm9yIiwiaXNVc2VyQWRtaW4iLCJlbWFpbCIsImFkbWluRW1haWxzIiwiQURNSU5fRU1BSUxTIiwic3BsaXQiLCJtYXAiLCJlIiwidHJpbSIsImluY2x1ZGVzIiwiZ2V0R2xvYmFsU3RhdHMiLCJ1c2Vyc1NuYXBzaG90IiwiY29sbGVjdGlvbiIsImNvdW50IiwiZ2V0IiwidG90YWxVc2VycyIsImRhdGEiLCJub3ciLCJEYXRlIiwicHJvU25hcHNob3QiLCJ3aGVyZSIsInByb1VzZXJzIiwiZG9jcyIsImZpbHRlciIsImRvYyIsImVuZERhdGUiLCJzdWJzY3JpcHRpb25FbmREYXRlIiwidG9EYXRlIiwic3RhcnRPZk1vbnRoIiwic2V0RGF0ZSIsInNldEhvdXJzIiwic2VydmljZXNTbmFwc2hvdCIsInNlcnZpY2VzVGhpc01vbnRoIiwidXNlcnNXaXRoVG9rZW5zIiwidG9rZW5GbG9hdCIsImZvckVhY2giLCJ0b2tlbkJhbGFuY2UiLCJwZW5kaW5nT3JkZXJzU25hcHNob3QiLCJwZW5kaW5nT3JkZXJzIiwiZ2V0VXNlcnMiLCJwYWdlIiwibGltaXQiLCJzZWFyY2hRdWVyeSIsInF1ZXJ5Iiwib3JkZXJCeSIsIm9mZnNldCIsInNuYXBzaG90IiwiaWQiLCJ1cGRhdGVVc2VyIiwidXNlcklkIiwidXBkYXRlcyIsInVwZGF0ZSIsInVwZGF0ZWRBdCIsImdldFBlbmRpbmdPcmRlcnMiLCJtYXJrT3JkZXJTaGlwcGVkIiwib3JkZXJJZCIsInRyYWNraW5nTnVtYmVyIiwidHJhY2tpbmdDYXJyaWVyIiwic3RhdHVzIiwic2hpcHBlZEF0IiwiZ2V0RmxhZ2dlZENvbnRlbnQiLCJ0aHJlYWRzU25hcHNob3QiLCJjb21tZW50c1NuYXBzaG90IiwidGhyZWFkcyIsInR5cGUiLCJjb21tZW50cyIsInNvcnQiLCJhIiwiYiIsImNyZWF0ZWRBdCIsIm1vZGVyYXRlQ29udGVudCIsImNvbnRlbnRJZCIsImNvbnRlbnRUeXBlIiwiYWN0aW9uIiwiZG9jUmVmIiwiZXhpc3RzIiwiRXJyb3IiLCJhdXRob3JJZCIsImlzT2ZmZW5zaXZlIiwicmV2aWV3ZWRBdCIsImRlbGV0ZSIsImlzX2Jhbm5lZCIsImJhbm5lZEF0IiwiYmFuUmVhc29uIiwiYWRkIiwiYWRtaW5JZCIsInRpbWVzdGFtcCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/firebase-admin.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Flogs%2Froute&page=%2Fapi%2Flogs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Flogs%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();