"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stats/route";
exports.ids = ["app/api/stats/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/app");;

/***/ }),

/***/ "firebase-admin/auth":
/*!**************************************!*\
  !*** external "firebase-admin/auth" ***!
  \**************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/auth");;

/***/ }),

/***/ "firebase-admin/firestore":
/*!*******************************************!*\
  !*** external "firebase-admin/firestore" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/firestore");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_MRFRIO_ADMIN_app_api_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/stats/route.ts */ \"(rsc)/./app/api/stats/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_MRFRIO_ADMIN_app_api_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\nC_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_MRFRIO_ADMIN_app_api_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stats/route\",\n        pathname: \"/api/stats\",\n        filename: \"route\",\n        bundlePath: \"app/api/stats/route\"\n    },\n    resolvedPagePath: \"C:\\\\TESIVIL\\\\AWS-TESIVIL\\\\AWS-TESIVIL\\\\07_MRFRIO_ADMIN\\\\app\\\\api\\\\stats\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_MRFRIO_ADMIN_app_api_stats_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/stats/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZzdGF0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGc3RhdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZzdGF0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVEVTSVZJTCU1Q0FXUy1URVNJVklMJTVDQVdTLVRFU0lWSUwlNUMwN19NUkZSSU9fQURNSU4lNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNURVNJVklMJTVDQVdTLVRFU0lWSUwlNUNBV1MtVEVTSVZJTCU1QzA3X01SRlJJT19BRE1JTiZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDaUM7QUFDOUc7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xcmNsaW1hLWFkbWluLz85NDQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFRFU0lWSUxcXFxcQVdTLVRFU0lWSUxcXFxcQVdTLVRFU0lWSUxcXFxcMDdfTVJGUklPX0FETUlOXFxcXGFwcFxcXFxhcGlcXFxcc3RhdHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0YXRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RhdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3N0YXRzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiQzpcXFxcVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFwwN19NUkZSSU9fQURNSU5cXFxcYXBwXFxcXGFwaVxcXFxzdGF0c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvc3RhdHMvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/stats/route.ts":
/*!********************************!*\
  !*** ./app/api/stats/route.ts ***!
  \********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase-admin */ \"(rsc)/./lib/firebase-admin.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function GET() {\n    try {\n        const [stats, recentOrders, flaggedContent] = await Promise.all([\n            (0,_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.getGlobalStats)(),\n            (0,_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.getPendingOrders)(),\n            (0,_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.getFlaggedContent)()\n        ]);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            stats: stats || {\n                totalUsers: 0,\n                proUsers: 0,\n                servicesThisMonth: 0,\n                tokenFloat: 0,\n                pendingOrders: 0\n            },\n            recentOrders: recentOrders?.slice(0, 5) || [],\n            flaggedContent: flaggedContent?.slice(0, 5) || []\n        });\n    } catch (error) {\n        console.error(\"Error fetching dashboard stats:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch stats\",\n            message: String(error)\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3N0YXRzL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUEyQztBQUNnRDtBQUVwRixlQUFlSTtJQUNsQixJQUFJO1FBQ0EsTUFBTSxDQUFDQyxPQUFPQyxjQUFjQyxlQUFlLEdBQUcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDO1lBQzVEUixtRUFBY0E7WUFDZEMscUVBQWdCQTtZQUNoQkMsc0VBQWlCQTtTQUNwQjtRQUVELE9BQU9ILHFEQUFZQSxDQUFDVSxJQUFJLENBQUM7WUFDckJMLE9BQU9BLFNBQVM7Z0JBQ1pNLFlBQVk7Z0JBQ1pDLFVBQVU7Z0JBQ1ZDLG1CQUFtQjtnQkFDbkJDLFlBQVk7Z0JBQ1pDLGVBQWU7WUFDbkI7WUFDQVQsY0FBY0EsY0FBY1UsTUFBTSxHQUFHLE1BQU0sRUFBRTtZQUM3Q1QsZ0JBQWdCQSxnQkFBZ0JTLE1BQU0sR0FBRyxNQUFNLEVBQUU7UUFDckQ7SUFDSixFQUFFLE9BQU9DLE9BQU87UUFDWkMsUUFBUUQsS0FBSyxDQUFDLG1DQUFtQ0E7UUFDakQsT0FBT2pCLHFEQUFZQSxDQUFDVSxJQUFJLENBQ3BCO1lBQUVPLE9BQU87WUFBeUJFLFNBQVNDLE9BQU9IO1FBQU8sR0FDekQ7WUFBRUksUUFBUTtRQUFJO0lBRXRCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xcmNsaW1hLWFkbWluLy4vYXBwL2FwaS9zdGF0cy9yb3V0ZS50cz84ZGYxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgZ2V0R2xvYmFsU3RhdHMsIGdldFBlbmRpbmdPcmRlcnMsIGdldEZsYWdnZWRDb250ZW50IH0gZnJvbSAnQC9saWIvZmlyZWJhc2UtYWRtaW4nO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgW3N0YXRzLCByZWNlbnRPcmRlcnMsIGZsYWdnZWRDb250ZW50XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgZ2V0R2xvYmFsU3RhdHMoKSxcclxuICAgICAgICAgICAgZ2V0UGVuZGluZ09yZGVycygpLFxyXG4gICAgICAgICAgICBnZXRGbGFnZ2VkQ29udGVudCgpLFxyXG4gICAgICAgIF0pO1xyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBzdGF0czogc3RhdHMgfHwge1xyXG4gICAgICAgICAgICAgICAgdG90YWxVc2VyczogMCxcclxuICAgICAgICAgICAgICAgIHByb1VzZXJzOiAwLFxyXG4gICAgICAgICAgICAgICAgc2VydmljZXNUaGlzTW9udGg6IDAsXHJcbiAgICAgICAgICAgICAgICB0b2tlbkZsb2F0OiAwLFxyXG4gICAgICAgICAgICAgICAgcGVuZGluZ09yZGVyczogMCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgcmVjZW50T3JkZXJzOiByZWNlbnRPcmRlcnM/LnNsaWNlKDAsIDUpIHx8IFtdLFxyXG4gICAgICAgICAgICBmbGFnZ2VkQ29udGVudDogZmxhZ2dlZENvbnRlbnQ/LnNsaWNlKDAsIDUpIHx8IFtdLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBkYXNoYm9hcmQgc3RhdHM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBzdGF0cycsIG1lc3NhZ2U6IFN0cmluZyhlcnJvcikgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2V0R2xvYmFsU3RhdHMiLCJnZXRQZW5kaW5nT3JkZXJzIiwiZ2V0RmxhZ2dlZENvbnRlbnQiLCJHRVQiLCJzdGF0cyIsInJlY2VudE9yZGVycyIsImZsYWdnZWRDb250ZW50IiwiUHJvbWlzZSIsImFsbCIsImpzb24iLCJ0b3RhbFVzZXJzIiwicHJvVXNlcnMiLCJzZXJ2aWNlc1RoaXNNb250aCIsInRva2VuRmxvYXQiLCJwZW5kaW5nT3JkZXJzIiwic2xpY2UiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiU3RyaW5nIiwic3RhdHVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/stats/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/firebase-admin.ts":
/*!*******************************!*\
  !*** ./lib/firebase-admin.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminAuth: () => (/* binding */ adminAuth),\n/* harmony export */   adminDb: () => (/* binding */ adminDb),\n/* harmony export */   getFlaggedContent: () => (/* binding */ getFlaggedContent),\n/* harmony export */   getGlobalStats: () => (/* binding */ getGlobalStats),\n/* harmony export */   getPendingOrders: () => (/* binding */ getPendingOrders),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   isUserAdmin: () => (/* binding */ isUserAdmin),\n/* harmony export */   markOrderShipped: () => (/* binding */ markOrderShipped),\n/* harmony export */   moderateContent: () => (/* binding */ moderateContent),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase-admin/firestore */ \"firebase-admin/firestore\");\n/* harmony import */ var firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase-admin/auth */ \"firebase-admin/auth\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// ============================================\n// Firebase Admin SDK Configuration\n// ============================================\n// \n// INSTRUCCIONES DE CONFIGURACIÓN:\n// \n// 1. Ve a Firebase Console > Configuración del proyecto > Cuentas de servicio\n// 2. Haz clic en \"Generar nueva clave privada\"\n// 3. Guarda el archivo JSON de forma segura\n// 4. Configura las variables de entorno:\n//    - FIREBASE_PROJECT_ID\n//    - FIREBASE_CLIENT_EMAIL\n//    - FIREBASE_PRIVATE_KEY (con saltos de línea escapados como \\n)\n// \n// ============================================\n// Parse private key - handle different escape formats\nconst formatPrivateKey = (key)=>{\n    if (!key) return undefined;\n    // Remove surrounding quotes if present\n    let cleaned = key.replace(/^[\"']|[\"']$/g, \"\");\n    // Replace literal \\n with actual newlines\n    cleaned = cleaned.replace(/\\\\n/g, \"\\n\");\n    return cleaned;\n};\nlet adminDb;\nlet adminAuth;\ntry {\n    const privateKey = formatPrivateKey(process.env.FIREBASE_PRIVATE_KEY);\n    if (!process.env.FIREBASE_PROJECT_ID || !process.env.FIREBASE_CLIENT_EMAIL || !privateKey) {\n        console.warn(\"Firebase Admin: Missing required environment variables\");\n        console.warn(\"FIREBASE_PROJECT_ID:\", !!process.env.FIREBASE_PROJECT_ID);\n        console.warn(\"FIREBASE_CLIENT_EMAIL:\", !!process.env.FIREBASE_CLIENT_EMAIL);\n        console.warn(\"FIREBASE_PRIVATE_KEY:\", !!privateKey);\n    }\n    const firebaseAdminConfig = {\n        credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n            projectId: process.env.FIREBASE_PROJECT_ID,\n            clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n            privateKey: privateKey\n        })\n    };\n    // Inicializar solo si no hay instancias existentes\n    const app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseAdminConfig) : (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    // Exportar instancias\n    adminDb = (0,firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\n    adminAuth = (0,firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n} catch (error) {\n    console.error(\"Firebase Admin initialization error:\", error);\n    // Create mock objects to prevent crashes\n    adminDb = null;\n    adminAuth = null;\n}\n\n// ============================================\n// Helper Functions\n// ============================================\n/**\r\n * Verifica si un usuario es administrador\r\n */ const isUserAdmin = async (email)=>{\n    const adminEmails = process.env.ADMIN_EMAILS?.split(\",\").map((e)=>e.trim()) || [];\n    return adminEmails.includes(email);\n};\n/**\r\n * Obtiene estadísticas globales de la app\r\n */ const getGlobalStats = async ()=>{\n    try {\n        // Usuarios totales\n        const usersSnapshot = await adminDb.collection(\"users\").count().get();\n        const totalUsers = usersSnapshot.data().count;\n        // Usuarios PRO\n        const proSnapshot = await adminDb.collection(\"users\").where(\"is_premium\", \"==\", true).count().get();\n        const proUsers = proSnapshot.data().count;\n        // Servicios del mes\n        const startOfMonth = new Date();\n        startOfMonth.setDate(1);\n        startOfMonth.setHours(0, 0, 0, 0);\n        const servicesSnapshot = await adminDb.collection(\"services\").where(\"createdAt\", \">=\", startOfMonth).count().get();\n        const servicesThisMonth = servicesSnapshot.data().count;\n        // Tokens en circulación (suma de balances)\n        const usersWithTokens = await adminDb.collection(\"users\").get();\n        let tokenFloat = 0;\n        usersWithTokens.docs.forEach((doc)=>{\n            tokenFloat += doc.data().token_balance || 0;\n        });\n        // Pedidos pendientes\n        const pendingOrdersSnapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).count().get();\n        const pendingOrders = pendingOrdersSnapshot.data().count;\n        return {\n            totalUsers,\n            proUsers,\n            servicesThisMonth,\n            tokenFloat,\n            pendingOrders\n        };\n    } catch (error) {\n        console.error(\"Error fetching global stats:\", error);\n        return null;\n    }\n};\n/**\r\n * Obtiene usuarios con paginación\r\n */ const getUsers = async (page = 1, limit = 20, searchQuery)=>{\n    try {\n        let query = adminDb.collection(\"users\").orderBy(\"createdAt\", \"desc\").limit(limit).offset((page - 1) * limit);\n        // TODO: Para búsqueda necesitaremos índices compuestos o Algolia/Typesense\n        // Por ahora retornamos sin filtro de búsqueda del lado del servidor\n        const snapshot = await query.get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching users:\", error);\n        return [];\n    }\n};\n/**\r\n * Actualiza un usuario\r\n */ const updateUser = async (userId, updates)=>{\n    try {\n        await adminDb.collection(\"users\").doc(userId).update({\n            ...updates,\n            updatedAt: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene órdenes pendientes\r\n */ const getPendingOrders = async ()=>{\n    try {\n        const snapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).orderBy(\"createdAt\", \"desc\").get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching pending orders:\", error);\n        return [];\n    }\n};\n/**\r\n * Marca una orden como enviada\r\n */ const markOrderShipped = async (orderId, trackingNumber, trackingCarrier)=>{\n    try {\n        await adminDb.collection(\"orders\").doc(orderId).update({\n            status: \"shipped\",\n            trackingNumber,\n            trackingCarrier,\n            shippedAt: new Date()\n        });\n        // TODO: Disparar notificación push al usuario\n        return true;\n    } catch (error) {\n        console.error(\"Error marking order as shipped:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene contenido flaggeado para moderación\r\n */ const getFlaggedContent = async ()=>{\n    try {\n        // Hilos flaggeados\n        const threadsSnapshot = await adminDb.collection(\"sos_threads\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        // Comentarios flaggeados\n        const commentsSnapshot = await adminDb.collection(\"sos_comments\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        const threads = threadsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"thread\",\n                ...doc.data()\n            }));\n        const comments = commentsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"comment\",\n                ...doc.data()\n            }));\n        return [\n            ...threads,\n            ...comments\n        ].sort((a, b)=>b.createdAt?.toDate?.() - a.createdAt?.toDate?.());\n    } catch (error) {\n        console.error(\"Error fetching flagged content:\", error);\n        return [];\n    }\n};\n/**\r\n * Acciones de moderación\r\n */ const moderateContent = async (contentId, contentType, action)=>{\n    try {\n        const collection = contentType === \"thread\" ? \"sos_threads\" : \"sos_comments\";\n        const docRef = adminDb.collection(collection).doc(contentId);\n        const doc = await docRef.get();\n        if (!doc.exists) {\n            throw new Error(\"Content not found\");\n        }\n        const authorId = doc.data()?.authorId;\n        switch(action){\n            case \"dismiss\":\n                await docRef.update({\n                    isOffensive: false,\n                    reviewedAt: new Date()\n                });\n                break;\n            case \"delete\":\n                await docRef.delete();\n                break;\n            case \"ban\":\n                await docRef.delete();\n                if (authorId) {\n                    await adminDb.collection(\"users\").doc(authorId).update({\n                        is_banned: true,\n                        bannedAt: new Date(),\n                        banReason: \"Contenido inapropiado\"\n                    });\n                }\n                break;\n        }\n        // Log de auditoría\n        await adminDb.collection(\"admin_logs\").add({\n            action: `moderation_${action}`,\n            contentId,\n            contentType,\n            authorId,\n            adminId: \"system\",\n            timestamp: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error moderating content:\", error);\n        return false;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly9xcmNsaW1hLWFkbWluLy4vbGliL2ZpcmViYXNlLWFkbWluLnRzPzZhNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcywgY2VydCB9IGZyb20gJ2ZpcmViYXNlLWFkbWluL2FwcCc7XHJcbmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gJ2ZpcmViYXNlLWFkbWluL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9hdXRoJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZpcmViYXNlIEFkbWluIFNESyBDb25maWd1cmF0aW9uXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFxyXG4vLyBJTlNUUlVDQ0lPTkVTIERFIENPTkZJR1VSQUNJw5NOOlxyXG4vLyBcclxuLy8gMS4gVmUgYSBGaXJlYmFzZSBDb25zb2xlID4gQ29uZmlndXJhY2nDs24gZGVsIHByb3llY3RvID4gQ3VlbnRhcyBkZSBzZXJ2aWNpb1xyXG4vLyAyLiBIYXogY2xpYyBlbiBcIkdlbmVyYXIgbnVldmEgY2xhdmUgcHJpdmFkYVwiXHJcbi8vIDMuIEd1YXJkYSBlbCBhcmNoaXZvIEpTT04gZGUgZm9ybWEgc2VndXJhXHJcbi8vIDQuIENvbmZpZ3VyYSBsYXMgdmFyaWFibGVzIGRlIGVudG9ybm86XHJcbi8vICAgIC0gRklSRUJBU0VfUFJPSkVDVF9JRFxyXG4vLyAgICAtIEZJUkVCQVNFX0NMSUVOVF9FTUFJTFxyXG4vLyAgICAtIEZJUkVCQVNFX1BSSVZBVEVfS0VZIChjb24gc2FsdG9zIGRlIGzDrW5lYSBlc2NhcGFkb3MgY29tbyBcXG4pXHJcbi8vIFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gUGFyc2UgcHJpdmF0ZSBrZXkgLSBoYW5kbGUgZGlmZmVyZW50IGVzY2FwZSBmb3JtYXRzXHJcbmNvbnN0IGZvcm1hdFByaXZhdGVLZXkgPSAoa2V5OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xyXG4gICAgaWYgKCFrZXkpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAvLyBSZW1vdmUgc3Vycm91bmRpbmcgcXVvdGVzIGlmIHByZXNlbnRcclxuICAgIGxldCBjbGVhbmVkID0ga2V5LnJlcGxhY2UoL15bXCInXXxbXCInXSQvZywgJycpO1xyXG4gICAgLy8gUmVwbGFjZSBsaXRlcmFsIFxcbiB3aXRoIGFjdHVhbCBuZXdsaW5lc1xyXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxcXG4vZywgJ1xcbicpO1xyXG4gICAgcmV0dXJuIGNsZWFuZWQ7XHJcbn07XHJcblxyXG5sZXQgYWRtaW5EYjogRmlyZWJhc2VGaXJlc3RvcmUuRmlyZXN0b3JlO1xyXG5sZXQgYWRtaW5BdXRoOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRBdXRoPjtcclxuXHJcbnRyeSB7XHJcbiAgICBjb25zdCBwcml2YXRlS2V5ID0gZm9ybWF0UHJpdmF0ZUtleShwcm9jZXNzLmVudi5GSVJFQkFTRV9QUklWQVRFX0tFWSk7XHJcblxyXG4gICAgaWYgKCFwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lEIHx8ICFwcm9jZXNzLmVudi5GSVJFQkFTRV9DTElFTlRfRU1BSUwgfHwgIXByaXZhdGVLZXkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIEFkbWluOiBNaXNzaW5nIHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRklSRUJBU0VfUFJPSkVDVF9JRDonLCAhIXByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRklSRUJBU0VfQ0xJRU5UX0VNQUlMOicsICEhcHJvY2Vzcy5lbnYuRklSRUJBU0VfQ0xJRU5UX0VNQUlMKTtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0ZJUkVCQVNFX1BSSVZBVEVfS0VZOicsICEhcHJpdmF0ZUtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlyZWJhc2VBZG1pbkNvbmZpZyA9IHtcclxuICAgICAgICBjcmVkZW50aWFsOiBjZXJ0KHtcclxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lELFxyXG4gICAgICAgICAgICBjbGllbnRFbWFpbDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQ0xJRU5UX0VNQUlMLFxyXG4gICAgICAgICAgICBwcml2YXRlS2V5OiBwcml2YXRlS2V5LFxyXG4gICAgICAgIH0pLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbmljaWFsaXphciBzb2xvIHNpIG5vIGhheSBpbnN0YW5jaWFzIGV4aXN0ZW50ZXNcclxuICAgIGNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQWRtaW5Db25maWcpIDogZ2V0QXBwcygpWzBdO1xyXG5cclxuICAgIC8vIEV4cG9ydGFyIGluc3RhbmNpYXNcclxuICAgIGFkbWluRGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcclxuICAgIGFkbWluQXV0aCA9IGdldEF1dGgoYXBwKTtcclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZpcmViYXNlIEFkbWluIGluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgIC8vIENyZWF0ZSBtb2NrIG9iamVjdHMgdG8gcHJldmVudCBjcmFzaGVzXHJcbiAgICBhZG1pbkRiID0gbnVsbCBhcyBhbnk7XHJcbiAgICBhZG1pbkF1dGggPSBudWxsIGFzIGFueTtcclxufVxyXG5cclxuZXhwb3J0IHsgYWRtaW5EYiwgYWRtaW5BdXRoIH07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIZWxwZXIgRnVuY3Rpb25zXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogVmVyaWZpY2Egc2kgdW4gdXN1YXJpbyBlcyBhZG1pbmlzdHJhZG9yXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaXNVc2VyQWRtaW4gPSBhc3luYyAoZW1haWw6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gICAgY29uc3QgYWRtaW5FbWFpbHMgPSBwcm9jZXNzLmVudi5BRE1JTl9FTUFJTFM/LnNwbGl0KCcsJykubWFwKGUgPT4gZS50cmltKCkpIHx8IFtdO1xyXG4gICAgcmV0dXJuIGFkbWluRW1haWxzLmluY2x1ZGVzKGVtYWlsKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGVzdGFkw61zdGljYXMgZ2xvYmFsZXMgZGUgbGEgYXBwXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0R2xvYmFsU3RhdHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFVzdWFyaW9zIHRvdGFsZXNcclxuICAgICAgICBjb25zdCB1c2Vyc1NuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCd1c2VycycpLmNvdW50KCkuZ2V0KCk7XHJcbiAgICAgICAgY29uc3QgdG90YWxVc2VycyA9IHVzZXJzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICAvLyBVc3VhcmlvcyBQUk9cclxuICAgICAgICBjb25zdCBwcm9TbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICAgICAgICAud2hlcmUoJ2lzX3ByZW1pdW0nLCAnPT0nLCB0cnVlKVxyXG4gICAgICAgICAgICAuY291bnQoKVxyXG4gICAgICAgICAgICAuZ2V0KCk7XHJcbiAgICAgICAgY29uc3QgcHJvVXNlcnMgPSBwcm9TbmFwc2hvdC5kYXRhKCkuY291bnQ7XHJcblxyXG4gICAgICAgIC8vIFNlcnZpY2lvcyBkZWwgbWVzXHJcbiAgICAgICAgY29uc3Qgc3RhcnRPZk1vbnRoID0gbmV3IERhdGUoKTtcclxuICAgICAgICBzdGFydE9mTW9udGguc2V0RGF0ZSgxKTtcclxuICAgICAgICBzdGFydE9mTW9udGguc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3NlcnZpY2VzJylcclxuICAgICAgICAgICAgLndoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBzdGFydE9mTW9udGgpXHJcbiAgICAgICAgICAgIC5jb3VudCgpXHJcbiAgICAgICAgICAgIC5nZXQoKTtcclxuICAgICAgICBjb25zdCBzZXJ2aWNlc1RoaXNNb250aCA9IHNlcnZpY2VzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICAvLyBUb2tlbnMgZW4gY2lyY3VsYWNpw7NuIChzdW1hIGRlIGJhbGFuY2VzKVxyXG4gICAgICAgIGNvbnN0IHVzZXJzV2l0aFRva2VucyA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKS5nZXQoKTtcclxuICAgICAgICBsZXQgdG9rZW5GbG9hdCA9IDA7XHJcbiAgICAgICAgdXNlcnNXaXRoVG9rZW5zLmRvY3MuZm9yRWFjaChkb2MgPT4ge1xyXG4gICAgICAgICAgICB0b2tlbkZsb2F0ICs9IGRvYy5kYXRhKCkudG9rZW5fYmFsYW5jZSB8fCAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQZWRpZG9zIHBlbmRpZW50ZXNcclxuICAgICAgICBjb25zdCBwZW5kaW5nT3JkZXJzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ29yZGVycycpXHJcbiAgICAgICAgICAgIC53aGVyZSgnc3RhdHVzJywgJ2luJywgWydwYWlkJywgJ3Byb2Nlc3NpbmcnXSlcclxuICAgICAgICAgICAgLmNvdW50KClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG4gICAgICAgIGNvbnN0IHBlbmRpbmdPcmRlcnMgPSBwZW5kaW5nT3JkZXJzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3RhbFVzZXJzLFxyXG4gICAgICAgICAgICBwcm9Vc2VycyxcclxuICAgICAgICAgICAgc2VydmljZXNUaGlzTW9udGgsXHJcbiAgICAgICAgICAgIHRva2VuRmxvYXQsXHJcbiAgICAgICAgICAgIHBlbmRpbmdPcmRlcnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZ2xvYmFsIHN0YXRzOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIHVzdWFyaW9zIGNvbiBwYWdpbmFjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gYXN5bmMgKFxyXG4gICAgcGFnZTogbnVtYmVyID0gMSxcclxuICAgIGxpbWl0OiBudW1iZXIgPSAyMCxcclxuICAgIHNlYXJjaFF1ZXJ5Pzogc3RyaW5nXHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgcXVlcnkgPSBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJylcclxuICAgICAgICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJylcclxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAgICAgICAub2Zmc2V0KChwYWdlIC0gMSkgKiBsaW1pdCk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IFBhcmEgYsO6c3F1ZWRhIG5lY2VzaXRhcmVtb3Mgw61uZGljZXMgY29tcHVlc3RvcyBvIEFsZ29saWEvVHlwZXNlbnNlXHJcbiAgICAgICAgLy8gUG9yIGFob3JhIHJldG9ybmFtb3Mgc2luIGZpbHRybyBkZSBiw7pzcXVlZGEgZGVsIGxhZG8gZGVsIHNlcnZpZG9yXHJcblxyXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcXVlcnkuZ2V0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXJzOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQWN0dWFsaXphIHVuIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKFxyXG4gICAgdXNlcklkOiBzdHJpbmcsXHJcbiAgICB1cGRhdGVzOiB7XHJcbiAgICAgICAgaXNfYmFubmVkPzogYm9vbGVhbjtcclxuICAgICAgICBpc19wcmVtaXVtPzogYm9vbGVhbjtcclxuICAgICAgICBlbGlnaWJsZV9mb3JfZGlyZWN0b3J5PzogYm9vbGVhbjtcclxuICAgICAgICB0b2tlbl9iYWxhbmNlPzogbnVtYmVyO1xyXG4gICAgfVxyXG4pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh1c2VySWQpLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIC4uLnVwZGF0ZXMsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgw7NyZGVuZXMgcGVuZGllbnRlc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldFBlbmRpbmdPcmRlcnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdvcmRlcnMnKVxyXG4gICAgICAgICAgICAud2hlcmUoJ3N0YXR1cycsICdpbicsIFsncGFpZCcsICdwcm9jZXNzaW5nJ10pXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5nZXQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGVuZGluZyBvcmRlcnM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBNYXJjYSB1bmEgb3JkZW4gY29tbyBlbnZpYWRhXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWFya09yZGVyU2hpcHBlZCA9IGFzeW5jIChcclxuICAgIG9yZGVySWQ6IHN0cmluZyxcclxuICAgIHRyYWNraW5nTnVtYmVyOiBzdHJpbmcsXHJcbiAgICB0cmFja2luZ0NhcnJpZXI6IHN0cmluZ1xyXG4pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdvcmRlcnMnKS5kb2Mob3JkZXJJZCkudXBkYXRlKHtcclxuICAgICAgICAgICAgc3RhdHVzOiAnc2hpcHBlZCcsXHJcbiAgICAgICAgICAgIHRyYWNraW5nTnVtYmVyLFxyXG4gICAgICAgICAgICB0cmFja2luZ0NhcnJpZXIsXHJcbiAgICAgICAgICAgIHNoaXBwZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogRGlzcGFyYXIgbm90aWZpY2FjacOzbiBwdXNoIGFsIHVzdWFyaW9cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1hcmtpbmcgb3JkZXIgYXMgc2hpcHBlZDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgY29udGVuaWRvIGZsYWdnZWFkbyBwYXJhIG1vZGVyYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0RmxhZ2dlZENvbnRlbnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEhpbG9zIGZsYWdnZWFkb3NcclxuICAgICAgICBjb25zdCB0aHJlYWRzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3Nvc190aHJlYWRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICAvLyBDb21lbnRhcmlvcyBmbGFnZ2VhZG9zXHJcbiAgICAgICAgY29uc3QgY29tbWVudHNTbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignc29zX2NvbW1lbnRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICBjb25zdCB0aHJlYWRzID0gdGhyZWFkc1NuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICB0eXBlOiAndGhyZWFkJyBhcyBjb25zdCxcclxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzID0gY29tbWVudHNTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgdHlwZTogJ2NvbW1lbnQnIGFzIGNvbnN0LFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFsuLi50aHJlYWRzLCAuLi5jb21tZW50c10uc29ydCgoYTogYW55LCBiOiBhbnkpID0+XHJcbiAgICAgICAgICAgIGIuY3JlYXRlZEF0Py50b0RhdGU/LigpIC0gYS5jcmVhdGVkQXQ/LnRvRGF0ZT8uKClcclxuICAgICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbGFnZ2VkIGNvbnRlbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBY2Npb25lcyBkZSBtb2RlcmFjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1vZGVyYXRlQ29udGVudCA9IGFzeW5jIChcclxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxyXG4gICAgY29udGVudFR5cGU6ICd0aHJlYWQnIHwgJ2NvbW1lbnQnLFxyXG4gICAgYWN0aW9uOiAnZGlzbWlzcycgfCAnZGVsZXRlJyB8ICdiYW4nXHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29udGVudFR5cGUgPT09ICd0aHJlYWQnID8gJ3Nvc190aHJlYWRzJyA6ICdzb3NfY29tbWVudHMnO1xyXG4gICAgICAgIGNvbnN0IGRvY1JlZiA9IGFkbWluRGIuY29sbGVjdGlvbihjb2xsZWN0aW9uKS5kb2MoY29udGVudElkKTtcclxuICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCBkb2NSZWYuZ2V0KCk7XHJcblxyXG4gICAgICAgIGlmICghZG9jLmV4aXN0cykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdXRob3JJZCA9IGRvYy5kYXRhKCk/LmF1dGhvcklkO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdkaXNtaXNzJzpcclxuICAgICAgICAgICAgICAgIGF3YWl0IGRvY1JlZi51cGRhdGUoeyBpc09mZmVuc2l2ZTogZmFsc2UsIHJldmlld2VkQXQ6IG5ldyBEYXRlKCkgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2Jhbic6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXV0aG9ySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKGF1dGhvcklkKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19iYW5uZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhbm5lZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5SZWFzb246ICdDb250ZW5pZG8gaW5hcHJvcGlhZG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2cgZGUgYXVkaXRvcsOtYVxyXG4gICAgICAgIGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignYWRtaW5fbG9ncycpLmFkZCh7XHJcbiAgICAgICAgICAgIGFjdGlvbjogYG1vZGVyYXRpb25fJHthY3Rpb259YCxcclxuICAgICAgICAgICAgY29udGVudElkLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZSxcclxuICAgICAgICAgICAgYXV0aG9ySWQsXHJcbiAgICAgICAgICAgIGFkbWluSWQ6ICdzeXN0ZW0nLCAvLyBUT0RPOiBPYnRlbmVyIGRlbCB1c3VhcmlvIGF1dGVudGljYWRvXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1vZGVyYXRpbmcgY29udGVudDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJjZXJ0IiwiZ2V0RmlyZXN0b3JlIiwiZ2V0QXV0aCIsImZvcm1hdFByaXZhdGVLZXkiLCJrZXkiLCJ1bmRlZmluZWQiLCJjbGVhbmVkIiwicmVwbGFjZSIsImFkbWluRGIiLCJhZG1pbkF1dGgiLCJwcml2YXRlS2V5IiwicHJvY2VzcyIsImVudiIsIkZJUkVCQVNFX1BSSVZBVEVfS0VZIiwiRklSRUJBU0VfUFJPSkVDVF9JRCIsIkZJUkVCQVNFX0NMSUVOVF9FTUFJTCIsImNvbnNvbGUiLCJ3YXJuIiwiZmlyZWJhc2VBZG1pbkNvbmZpZyIsImNyZWRlbnRpYWwiLCJwcm9qZWN0SWQiLCJjbGllbnRFbWFpbCIsImFwcCIsImxlbmd0aCIsImVycm9yIiwiaXNVc2VyQWRtaW4iLCJlbWFpbCIsImFkbWluRW1haWxzIiwiQURNSU5fRU1BSUxTIiwic3BsaXQiLCJtYXAiLCJlIiwidHJpbSIsImluY2x1ZGVzIiwiZ2V0R2xvYmFsU3RhdHMiLCJ1c2Vyc1NuYXBzaG90IiwiY29sbGVjdGlvbiIsImNvdW50IiwiZ2V0IiwidG90YWxVc2VycyIsImRhdGEiLCJwcm9TbmFwc2hvdCIsIndoZXJlIiwicHJvVXNlcnMiLCJzdGFydE9mTW9udGgiLCJEYXRlIiwic2V0RGF0ZSIsInNldEhvdXJzIiwic2VydmljZXNTbmFwc2hvdCIsInNlcnZpY2VzVGhpc01vbnRoIiwidXNlcnNXaXRoVG9rZW5zIiwidG9rZW5GbG9hdCIsImRvY3MiLCJmb3JFYWNoIiwiZG9jIiwidG9rZW5fYmFsYW5jZSIsInBlbmRpbmdPcmRlcnNTbmFwc2hvdCIsInBlbmRpbmdPcmRlcnMiLCJnZXRVc2VycyIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaFF1ZXJ5IiwicXVlcnkiLCJvcmRlckJ5Iiwib2Zmc2V0Iiwic25hcHNob3QiLCJpZCIsInVwZGF0ZVVzZXIiLCJ1c2VySWQiLCJ1cGRhdGVzIiwidXBkYXRlIiwidXBkYXRlZEF0IiwiZ2V0UGVuZGluZ09yZGVycyIsIm1hcmtPcmRlclNoaXBwZWQiLCJvcmRlcklkIiwidHJhY2tpbmdOdW1iZXIiLCJ0cmFja2luZ0NhcnJpZXIiLCJzdGF0dXMiLCJzaGlwcGVkQXQiLCJnZXRGbGFnZ2VkQ29udGVudCIsInRocmVhZHNTbmFwc2hvdCIsImNvbW1lbnRzU25hcHNob3QiLCJ0aHJlYWRzIiwidHlwZSIsImNvbW1lbnRzIiwic29ydCIsImEiLCJiIiwiY3JlYXRlZEF0IiwidG9EYXRlIiwibW9kZXJhdGVDb250ZW50IiwiY29udGVudElkIiwiY29udGVudFR5cGUiLCJhY3Rpb24iLCJkb2NSZWYiLCJleGlzdHMiLCJFcnJvciIsImF1dGhvcklkIiwiaXNPZmZlbnNpdmUiLCJyZXZpZXdlZEF0IiwiZGVsZXRlIiwiaXNfYmFubmVkIiwiYmFubmVkQXQiLCJiYW5SZWFzb24iLCJhZGQiLCJhZG1pbklkIiwidGltZXN0YW1wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/firebase-admin.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fstats%2Froute&page=%2Fapi%2Fstats%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstats%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_MRFRIO_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();