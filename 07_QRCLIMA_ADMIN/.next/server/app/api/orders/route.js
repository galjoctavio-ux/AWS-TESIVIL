"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/orders/route";
exports.ids = ["app/api/orders/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/app");;

/***/ }),

/***/ "firebase-admin/auth":
/*!**************************************!*\
  !*** external "firebase-admin/auth" ***!
  \**************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/auth");;

/***/ }),

/***/ "firebase-admin/firestore":
/*!*******************************************!*\
  !*** external "firebase-admin/firestore" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/firestore");;

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_orders_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/orders/route.ts */ \"(rsc)/./app/api/orders/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_orders_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\nC_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_orders_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/orders/route\",\n        pathname: \"/api/orders\",\n        filename: \"route\",\n        bundlePath: \"app/api/orders/route\"\n    },\n    resolvedPagePath: \"C:\\\\TESIVIL\\\\AWS-TESIVIL\\\\AWS-TESIVIL\\\\07_QRCLIMA_ADMIN\\\\app\\\\api\\\\orders\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_orders_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/orders/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvcmRlcnMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRm9yZGVycyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRm9yZGVycyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVEVTSVZJTCU1Q0FXUy1URVNJVklMJTVDQVdTLVRFU0lWSUwlNUMwN19RUkNMSU1BX0FETUlOJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVEVTSVZJTCU1Q0FXUy1URVNJVklMJTVDQVdTLVRFU0lWSUwlNUMwN19RUkNMSU1BX0FETUlOJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQztBQUNoSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3FyY2xpbWEtYWRtaW4vPzdhMzAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFwwN19RUkNMSU1BX0FETUlOXFxcXGFwcFxcXFxhcGlcXFxcb3JkZXJzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9vcmRlcnMvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9vcmRlcnNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL29yZGVycy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFRFU0lWSUxcXFxcQVdTLVRFU0lWSUxcXFxcQVdTLVRFU0lWSUxcXFxcMDdfUVJDTElNQV9BRE1JTlxcXFxhcHBcXFxcYXBpXFxcXG9yZGVyc1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvb3JkZXJzL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/orders/route.ts":
/*!*********************************!*\
  !*** ./app/api/orders/route.ts ***!
  \*********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase-admin */ \"(rsc)/./lib/firebase-admin.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// GET - Fetch all orders\nasync function GET() {\n    try {\n        if (!_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                orders: []\n            });\n        }\n        // Mostrar todas las Ã³rdenes (fÃ­sicas y digitales)\n        const snapshot = await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb.collection(\"orders\").orderBy(\"createdAt\", \"desc\").limit(100).get();\n        const orders = await Promise.all(snapshot.docs.map(async (doc)=>{\n            const data = doc.data();\n            // Get user info\n            let userName = null;\n            let userEmail = null;\n            if (data.userId) {\n                try {\n                    const userDoc = await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb.collection(\"users\").doc(data.userId).get();\n                    if (userDoc.exists) {\n                        const userData = userDoc.data();\n                        userName = userData?.alias || userData?.displayName;\n                        userEmail = userData?.email;\n                    }\n                } catch (e) {\n                // Ignore\n                }\n            }\n            return {\n                id: doc.id,\n                userId: data.userId,\n                userName,\n                userEmail,\n                product: data.product || data.productName,\n                amount: data.amount || data.total || data.amountCents ? Math.round((data.amountCents || 0) / 100) : 0,\n                amountTokens: data.amountTokens,\n                paymentMethod: data.paymentMethod || \"stripe\",\n                status: data.status || \"pending\",\n                date: data.createdAt?.toDate?.()?.toISOString()?.split(\"T\")[0] || null,\n                // Format address as string if it's an object\n                address: (()=>{\n                    const addr = data.shippingAddress || data.address;\n                    if (!addr) return \"Sin direcci\\xf3n\";\n                    if (typeof addr === \"string\") return addr;\n                    // It's an object, format it\n                    return [\n                        addr.street,\n                        addr.neighborhood,\n                        addr.city,\n                        addr.state,\n                        addr.postalCode ? `C.P. ${addr.postalCode}` : \"\"\n                    ].filter(Boolean).join(\", \") || \"Sin direcci\\xf3n\";\n                })(),\n                trackingNumber: data.trackingNumber,\n                trackingCarrier: data.trackingCarrier\n            };\n        }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            orders\n        });\n    } catch (error) {\n        console.error(\"Error fetching orders:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch orders\",\n            orders: []\n        }, {\n            status: 500\n        });\n    }\n}\n// POST - Mark order as shipped\nasync function POST(request) {\n    try {\n        const { orderId, trackingNumber, trackingCarrier } = await request.json();\n        if (!orderId || !trackingNumber || !trackingCarrier) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Order ID, tracking number, and carrier are required\"\n            }, {\n                status: 400\n            });\n        }\n        const success = await (0,_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.markOrderShipped)(orderId, trackingNumber, trackingCarrier);\n        if (success) {\n            // Log the action\n            if (_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb) {\n                await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb.collection(\"admin_logs\").add({\n                    action: \"order_shipped\",\n                    orderId,\n                    trackingNumber,\n                    trackingCarrier,\n                    adminId: \"system\",\n                    timestamp: new Date()\n                });\n            }\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true\n            });\n        } else {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Failed to mark order as shipped\"\n            }, {\n                status: 500\n            });\n        }\n    } catch (error) {\n        console.error(\"Error marking order as shipped:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to mark order as shipped\"\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFlcUIsS0FBS0MsT0FBZ0I7SUFDdkMsSUFBSTtRQUNBLE1BQU0sRUFBRUMsT0FBTyxFQUFFTixjQUFjLEVBQUVDLGVBQWUsRUFBRSxHQUFHLE1BQU1JLFFBQVF2RCxJQUFJO1FBRXZFLElBQUksQ0FBQ3dELFdBQVcsQ0FBQ04sa0JBQWtCLENBQUNDLGlCQUFpQjtZQUNqRCxPQUFPdkQscURBQVlBLENBQUNJLElBQUksQ0FDcEI7Z0JBQUVvRCxPQUFPO1lBQXNELEdBQy9EO2dCQUFFbkIsUUFBUTtZQUFJO1FBRXRCO1FBRUEsTUFBTXdCLFVBQVUsTUFBTTNELHFFQUFnQkEsQ0FBQzBELFNBQVNOLGdCQUFnQkM7UUFFaEUsSUFBSU0sU0FBUztZQUNULGlCQUFpQjtZQUNqQixJQUFJNUQsd0RBQU9BLEVBQUU7Z0JBQ1QsTUFBTUEsd0RBQU9BLENBQUNNLFVBQVUsQ0FBQyxjQUFjdUQsR0FBRyxDQUFDO29CQUN2Q0MsUUFBUTtvQkFDUkg7b0JBQ0FOO29CQUNBQztvQkFDQVMsU0FBUztvQkFDVEMsV0FBVyxJQUFJQztnQkFDbkI7WUFDSjtZQUVBLE9BQU9sRSxxREFBWUEsQ0FBQ0ksSUFBSSxDQUFDO2dCQUFFeUQsU0FBUztZQUFLO1FBQzdDLE9BQU87WUFDSCxPQUFPN0QscURBQVlBLENBQUNJLElBQUksQ0FDcEI7Z0JBQUVvRCxPQUFPO1lBQWtDLEdBQzNDO2dCQUFFbkIsUUFBUTtZQUFJO1FBRXRCO0lBQ0osRUFBRSxPQUFPbUIsT0FBTztRQUNaQyxRQUFRRCxLQUFLLENBQUMsbUNBQW1DQTtRQUNqRCxPQUFPeEQscURBQVlBLENBQUNJLElBQUksQ0FDcEI7WUFBRW9ELE9BQU87UUFBa0MsR0FDM0M7WUFBRW5CLFFBQVE7UUFBSTtJQUV0QjtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXJjbGltYS1hZG1pbi8uL2FwcC9hcGkvb3JkZXJzL3JvdXRlLnRzPzlmZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBhZG1pbkRiLCBnZXRQZW5kaW5nT3JkZXJzLCBtYXJrT3JkZXJTaGlwcGVkIH0gZnJvbSAnQC9saWIvZmlyZWJhc2UtYWRtaW4nO1xyXG5cclxuLy8gR0VUIC0gRmV0Y2ggYWxsIG9yZGVyc1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBpZiAoIWFkbWluRGIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgb3JkZXJzOiBbXSB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIE1vc3RyYXIgdG9kYXMgbGFzIMOzcmRlbmVzIChmw61zaWNhcyB5IGRpZ2l0YWxlcylcclxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignb3JkZXJzJylcclxuICAgICAgICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJylcclxuICAgICAgICAgICAgLmxpbWl0KDEwMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICBjb25zdCBvcmRlcnMgPSBhd2FpdCBQcm9taXNlLmFsbChcclxuICAgICAgICAgICAgc25hcHNob3QuZG9jcy5tYXAoYXN5bmMgKGRvYykgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gR2V0IHVzZXIgaW5mb1xyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXJOYW1lID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGxldCB1c2VyRW1haWwgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRhdGEudXNlcklkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2MoZGF0YS51c2VySWQpLmdldCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodXNlckRvYy5leGlzdHMpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckRvYy5kYXRhKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZSA9IHVzZXJEYXRhPy5hbGlhcyB8fCB1c2VyRGF0YT8uZGlzcGxheU5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyRW1haWwgPSB1c2VyRGF0YT8uZW1haWw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElnbm9yZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBkb2MuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdXNlcklkOiBkYXRhLnVzZXJJZCxcclxuICAgICAgICAgICAgICAgICAgICB1c2VyTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICB1c2VyRW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgcHJvZHVjdDogZGF0YS5wcm9kdWN0IHx8IGRhdGEucHJvZHVjdE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50OiBkYXRhLmFtb3VudCB8fCBkYXRhLnRvdGFsIHx8IGRhdGEuYW1vdW50Q2VudHMgPyBNYXRoLnJvdW5kKChkYXRhLmFtb3VudENlbnRzIHx8IDApIC8gMTAwKSA6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgYW1vdW50VG9rZW5zOiBkYXRhLmFtb3VudFRva2VucyxcclxuICAgICAgICAgICAgICAgICAgICBwYXltZW50TWV0aG9kOiBkYXRhLnBheW1lbnRNZXRob2QgfHwgJ3N0cmlwZScsXHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnN0YXR1cyB8fCAncGVuZGluZycsXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0ZTogZGF0YS5jcmVhdGVkQXQ/LnRvRGF0ZT8uKCk/LnRvSVNPU3RyaW5nKCk/LnNwbGl0KCdUJylbMF0gfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgICAgICAvLyBGb3JtYXQgYWRkcmVzcyBhcyBzdHJpbmcgaWYgaXQncyBhbiBvYmplY3RcclxuICAgICAgICAgICAgICAgICAgICBhZGRyZXNzOiAoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhZGRyID0gZGF0YS5zaGlwcGluZ0FkZHJlc3MgfHwgZGF0YS5hZGRyZXNzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWFkZHIpIHJldHVybiAnU2luIGRpcmVjY2nDs24nO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFkZHIgPT09ICdzdHJpbmcnKSByZXR1cm4gYWRkcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSXQncyBhbiBvYmplY3QsIGZvcm1hdCBpdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkci5zdHJlZXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyLm5laWdoYm9yaG9vZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHIuY2l0eSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZHIuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGRyLnBvc3RhbENvZGUgPyBgQy5QLiAke2FkZHIucG9zdGFsQ29kZX1gIDogJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJywgJykgfHwgJ1NpbiBkaXJlY2Npw7NuJztcclxuICAgICAgICAgICAgICAgICAgICB9KSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nTnVtYmVyOiBkYXRhLnRyYWNraW5nTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nQ2FycmllcjogZGF0YS50cmFja2luZ0NhcnJpZXIsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9yZGVycyB9KTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgb3JkZXJzOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZmV0Y2ggb3JkZXJzJywgb3JkZXJzOiBbXSB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcblxyXG4vLyBQT1NUIC0gTWFyayBvcmRlciBhcyBzaGlwcGVkXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBvcmRlcklkLCB0cmFja2luZ051bWJlciwgdHJhY2tpbmdDYXJyaWVyIH0gPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgICAgICAgaWYgKCFvcmRlcklkIHx8ICF0cmFja2luZ051bWJlciB8fCAhdHJhY2tpbmdDYXJyaWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgZXJyb3I6ICdPcmRlciBJRCwgdHJhY2tpbmcgbnVtYmVyLCBhbmQgY2FycmllciBhcmUgcmVxdWlyZWQnIH0sXHJcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSBhd2FpdCBtYXJrT3JkZXJTaGlwcGVkKG9yZGVySWQsIHRyYWNraW5nTnVtYmVyLCB0cmFja2luZ0NhcnJpZXIpO1xyXG5cclxuICAgICAgICBpZiAoc3VjY2Vzcykge1xyXG4gICAgICAgICAgICAvLyBMb2cgdGhlIGFjdGlvblxyXG4gICAgICAgICAgICBpZiAoYWRtaW5EYikge1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdhZG1pbl9sb2dzJykuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdvcmRlcl9zaGlwcGVkJyxcclxuICAgICAgICAgICAgICAgICAgICBvcmRlcklkLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nTnVtYmVyLFxyXG4gICAgICAgICAgICAgICAgICAgIHRyYWNraW5nQ2FycmllcixcclxuICAgICAgICAgICAgICAgICAgICBhZG1pbklkOiAnc3lzdGVtJywgLy8gVE9ETzogR2V0IGZyb20gc2Vzc2lvblxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gbWFyayBvcmRlciBhcyBzaGlwcGVkJyB9LFxyXG4gICAgICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBtYXJraW5nIG9yZGVyIGFzIHNoaXBwZWQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBtYXJrIG9yZGVyIGFzIHNoaXBwZWQnIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImFkbWluRGIiLCJtYXJrT3JkZXJTaGlwcGVkIiwiR0VUIiwianNvbiIsIm9yZGVycyIsInNuYXBzaG90IiwiY29sbGVjdGlvbiIsIm9yZGVyQnkiLCJsaW1pdCIsImdldCIsIlByb21pc2UiLCJhbGwiLCJkb2NzIiwibWFwIiwiZG9jIiwiZGF0YSIsInVzZXJOYW1lIiwidXNlckVtYWlsIiwidXNlcklkIiwidXNlckRvYyIsImV4aXN0cyIsInVzZXJEYXRhIiwiYWxpYXMiLCJkaXNwbGF5TmFtZSIsImVtYWlsIiwiZSIsImlkIiwicHJvZHVjdCIsInByb2R1Y3ROYW1lIiwiYW1vdW50IiwidG90YWwiLCJhbW91bnRDZW50cyIsIk1hdGgiLCJyb3VuZCIsImFtb3VudFRva2VucyIsInBheW1lbnRNZXRob2QiLCJzdGF0dXMiLCJkYXRlIiwiY3JlYXRlZEF0IiwidG9EYXRlIiwidG9JU09TdHJpbmciLCJzcGxpdCIsImFkZHJlc3MiLCJhZGRyIiwic2hpcHBpbmdBZGRyZXNzIiwic3RyZWV0IiwibmVpZ2hib3Job29kIiwiY2l0eSIsInN0YXRlIiwicG9zdGFsQ29kZSIsImZpbHRlciIsIkJvb2xlYW4iLCJqb2luIiwidHJhY2tpbmdOdW1iZXIiLCJ0cmFja2luZ0NhcnJpZXIiLCJlcnJvciIsImNvbnNvbGUiLCJQT1NUIiwicmVxdWVzdCIsIm9yZGVySWQiLCJzdWNjZXNzIiwiYWRkIiwiYWN0aW9uIiwiYWRtaW5JZCIsInRpbWVzdGFtcCIsIkRhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/orders/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/firebase-admin.ts":
/*!*******************************!*\
  !*** ./lib/firebase-admin.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminAuth: () => (/* binding */ adminAuth),\n/* harmony export */   adminDb: () => (/* binding */ adminDb),\n/* harmony export */   getFlaggedContent: () => (/* binding */ getFlaggedContent),\n/* harmony export */   getGlobalStats: () => (/* binding */ getGlobalStats),\n/* harmony export */   getPendingOrders: () => (/* binding */ getPendingOrders),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   isUserAdmin: () => (/* binding */ isUserAdmin),\n/* harmony export */   markOrderShipped: () => (/* binding */ markOrderShipped),\n/* harmony export */   moderateContent: () => (/* binding */ moderateContent),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase-admin/firestore */ \"firebase-admin/firestore\");\n/* harmony import */ var firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase-admin/auth */ \"firebase-admin/auth\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// ============================================\n// Firebase Admin SDK Configuration\n// ============================================\n// \n// INSTRUCCIONES DE CONFIGURACIÃ“N:\n// \n// 1. Ve a Firebase Console > ConfiguraciÃ³n del proyecto > Cuentas de servicio\n// 2. Haz clic en \"Generar nueva clave privada\"\n// 3. Guarda el archivo JSON de forma segura\n// 4. Configura las variables de entorno:\n//    - FIREBASE_PROJECT_ID\n//    - FIREBASE_CLIENT_EMAIL\n//    - FIREBASE_PRIVATE_KEY (con saltos de lÃ­nea escapados como \\n)\n// \n// ============================================\n// Parse private key - handle different escape formats\nconst formatPrivateKey = (key)=>{\n    if (!key) return undefined;\n    // Remove surrounding quotes if present\n    let cleaned = key.replace(/^[\"']|[\"']$/g, \"\");\n    // Replace literal \\n with actual newlines\n    cleaned = cleaned.replace(/\\\\n/g, \"\\n\");\n    return cleaned;\n};\nlet adminDb;\nlet adminAuth;\ntry {\n    const privateKey = formatPrivateKey(process.env.FIREBASE_PRIVATE_KEY);\n    if (!process.env.FIREBASE_PROJECT_ID || !process.env.FIREBASE_CLIENT_EMAIL || !privateKey) {\n        console.warn(\"Firebase Admin: Missing required environment variables\");\n        console.warn(\"FIREBASE_PROJECT_ID:\", !!process.env.FIREBASE_PROJECT_ID);\n        console.warn(\"FIREBASE_CLIENT_EMAIL:\", !!process.env.FIREBASE_CLIENT_EMAIL);\n        console.warn(\"FIREBASE_PRIVATE_KEY:\", !!privateKey);\n    }\n    const firebaseAdminConfig = {\n        credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n            projectId: process.env.FIREBASE_PROJECT_ID,\n            clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n            privateKey: privateKey\n        })\n    };\n    // Inicializar solo si no hay instancias existentes\n    const app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseAdminConfig) : (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    // Exportar instancias\n    adminDb = (0,firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\n    adminAuth = (0,firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n} catch (error) {\n    console.error(\"Firebase Admin initialization error:\", error);\n    // Create mock objects to prevent crashes\n    adminDb = null;\n    adminAuth = null;\n}\n\n// ============================================\n// Helper Functions\n// ============================================\n/**\r\n * Verifica si un usuario es administrador\r\n */ const isUserAdmin = async (email)=>{\n    const adminEmails = process.env.ADMIN_EMAILS?.split(\",\").map((e)=>e.trim()) || [];\n    return adminEmails.includes(email);\n};\n/**\r\n * Obtiene estadÃ­sticas globales de la app\r\n */ const getGlobalStats = async ()=>{\n    try {\n        // Usuarios totales\n        const usersSnapshot = await adminDb.collection(\"users\").count().get();\n        const totalUsers = usersSnapshot.data().count;\n        // Usuarios PRO - La app usa subscription: 'Pro' | 'Pro+' con verificaciÃ³n de fecha\n        // Necesitamos contar usuarios con subscription activa y no expirada\n        const now = new Date();\n        const proSnapshot = await adminDb.collection(\"users\").where(\"subscription\", \"in\", [\n            \"Pro\",\n            \"Pro+\"\n        ]).get();\n        // Filtrar solo los que tienen suscripciÃ³n vigente\n        const proUsers = proSnapshot.docs.filter((doc)=>{\n            const data = doc.data();\n            const endDate = data.subscriptionEndDate?.toDate?.() || (data.subscriptionEndDate ? new Date(data.subscriptionEndDate) : null);\n            // Si no hay fecha de expiraciÃ³n o no ha expirado, es PRO activo\n            return !endDate || endDate >= now;\n        }).length;\n        // Servicios del mes\n        const startOfMonth = new Date();\n        startOfMonth.setDate(1);\n        startOfMonth.setHours(0, 0, 0, 0);\n        const servicesSnapshot = await adminDb.collection(\"services\").where(\"createdAt\", \">=\", startOfMonth).count().get();\n        const servicesThisMonth = servicesSnapshot.data().count;\n        // Tokens en circulaciÃ³n (suma de balances)\n        const usersWithTokens = await adminDb.collection(\"users\").get();\n        let tokenFloat = 0;\n        usersWithTokens.docs.forEach((doc)=>{\n            tokenFloat += doc.data().tokenBalance || 0;\n        });\n        // Pedidos pendientes\n        const pendingOrdersSnapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).count().get();\n        const pendingOrders = pendingOrdersSnapshot.data().count;\n        return {\n            totalUsers,\n            proUsers,\n            servicesThisMonth,\n            tokenFloat,\n            pendingOrders\n        };\n    } catch (error) {\n        console.error(\"Error fetching global stats:\", error);\n        return null;\n    }\n};\n/**\r\n * Obtiene usuarios con paginaciÃ³n\r\n */ const getUsers = async (page = 1, limit = 20, searchQuery)=>{\n    try {\n        let query = adminDb.collection(\"users\").orderBy(\"createdAt\", \"desc\").limit(limit).offset((page - 1) * limit);\n        // TODO: Para bÃºsqueda necesitaremos Ã­ndices compuestos o Algolia/Typesense\n        // Por ahora retornamos sin filtro de bÃºsqueda del lado del servidor\n        const snapshot = await query.get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching users:\", error);\n        return [];\n    }\n};\n/**\r\n * Actualiza un usuario\r\n */ const updateUser = async (userId, updates)=>{\n    try {\n        await adminDb.collection(\"users\").doc(userId).update({\n            ...updates,\n            updatedAt: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene Ã³rdenes pendientes\r\n */ const getPendingOrders = async ()=>{\n    try {\n        const snapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).orderBy(\"createdAt\", \"desc\").get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching pending orders:\", error);\n        return [];\n    }\n};\n/**\r\n * Marca una orden como enviada y envÃ­a email al cliente\r\n */ const markOrderShipped = async (orderId, trackingNumber, trackingCarrier)=>{\n    try {\n        // Get order and user data first\n        const orderDoc = await adminDb.collection(\"orders\").doc(orderId).get();\n        if (!orderDoc.exists) {\n            console.error(\"Order not found:\", orderId);\n            return false;\n        }\n        const orderData = orderDoc.data();\n        const userId = orderData.userId;\n        // Update order status\n        await adminDb.collection(\"orders\").doc(orderId).update({\n            status: \"shipped\",\n            trackingNumber,\n            trackingCarrier,\n            shippedAt: new Date()\n        });\n        // Send email notification\n        try {\n            if (userId) {\n                const userDoc = await adminDb.collection(\"users\").doc(userId).get();\n                if (userDoc.exists) {\n                    const userData = userDoc.data();\n                    const userEmail = userData.email;\n                    const userName = userData.alias || userData.displayName;\n                    if (userEmail && process.env.RESEND_API_KEY) {\n                        const { Resend } = await Promise.all(/*! import() */[__webpack_require__.e(\"vendor-chunks/svix\"), __webpack_require__.e(\"vendor-chunks/uuid\"), __webpack_require__.e(\"vendor-chunks/resend\"), __webpack_require__.e(\"vendor-chunks/fast-sha256\"), __webpack_require__.e(\"vendor-chunks/@stablelib\")]).then(__webpack_require__.bind(__webpack_require__, /*! resend */ \"(rsc)/./node_modules/resend/dist/index.mjs\"));\n                        const resend = new Resend(process.env.RESEND_API_KEY);\n                        // Carrier tracking URLs\n                        const carrierUrls = {\n                            \"DHL\": `https://www.dhl.com/mx-es/home/rastreo.html?tracking-id=${trackingNumber}`,\n                            \"Estafeta\": `https://rastreo3.estafeta.com/Seguimiento/EstafetaQ?type=R&referencia=${trackingNumber}`,\n                            \"FedEx\": `https://www.fedex.com/fedextrack/?trknbr=${trackingNumber}`,\n                            \"Correos de M\\xe9xico\": `https://www.correosdemexico.gob.mx/SSLServicios/SeguimientoEnvio/Seguimiento.aspx?guia=${trackingNumber}`,\n                            \"Paquetexpress\": `https://www.paquetexpress.com.mx/rastreo?numero=${trackingNumber}`\n                        };\n                        const trackingUrl = carrierUrls[trackingCarrier] || \"#\";\n                        const productName = orderData.productName || orderData.product || \"Producto\";\n                        // Build HTML email\n                        const htmlContent = `\r\n<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <title>Â¡Tu pedido va en camino! - QRClima</title>\r\n</head>\r\n<body style=\"margin: 0; padding: 0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f0f4f8;\">\r\n    <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"width: 100%; background-color: #f0f4f8;\">\r\n        <tr>\r\n            <td style=\"padding: 40px 20px;\">\r\n                <table role=\"presentation\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width: 520px; margin: 0 auto; background-color: #ffffff; border-radius: 16px; overflow: hidden; box-shadow: 0 4px 24px rgba(0, 0, 0, 0.08);\">\r\n                    <tr>\r\n                        <td style=\"background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%); padding: 32px 40px; text-align: center;\">\r\n                            <h1 style=\"margin: 0; color: #ffffff; font-size: 28px; font-weight: 700;\">ðŸ“¦ Â¡Tu pedido va en camino!</h1>\r\n                            <p style=\"margin: 8px 0 0; color: rgba(255, 255, 255, 0.9); font-size: 14px;\">QRClima Store</p>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style=\"padding: 40px;\">\r\n                            <div style=\"text-align: center; margin-bottom: 24px;\"><span style=\"font-size: 56px;\">ðŸšš</span></div>\r\n                            <h2 style=\"margin: 0 0 16px; color: #1e293b; font-size: 22px; font-weight: 600; text-align: center;\">\r\n                                Â¡Excelentes noticias${userName ? `, ${userName}` : \"\"}!\r\n                            </h2>\r\n                            <p style=\"margin: 0 0 24px; color: #64748b; font-size: 15px; line-height: 1.6; text-align: center;\">\r\n                                Tu pedido ha sido enviado y pronto llegarÃ¡ a tu puerta.\r\n                            </p>\r\n                            <div style=\"background: linear-gradient(135deg, #f5f3ff 0%, #ede9fe 100%); border: 2px solid #c4b5fd; border-radius: 12px; padding: 24px; margin: 0 0 24px; text-align: center;\">\r\n                                <p style=\"margin: 0 0 8px; color: #7c3aed; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; font-weight: 600;\">${trackingCarrier}</p>\r\n                                <p style=\"margin: 0 0 16px; color: #5b21b6; font-size: 24px; font-weight: 700; letter-spacing: 2px; font-family: 'Courier New', monospace;\">${trackingNumber}</p>\r\n                                <a href=\"${trackingUrl}\" target=\"_blank\" style=\"display: inline-block; background: linear-gradient(135deg, #8B5CF6 0%, #7C3AED 100%); color: #ffffff; text-decoration: none; padding: 12px 28px; border-radius: 8px; font-weight: 600; font-size: 14px;\">Rastrear EnvÃ­o â†’</a>\r\n                            </div>\r\n                            <div style=\"background-color: #f8fafc; border-radius: 8px; padding: 16px;\">\r\n                                <table style=\"width: 100%;\">\r\n                                    <tr>\r\n                                        <td style=\"color: #64748b; font-size: 13px; padding: 4px 0;\">Pedido:</td>\r\n                                        <td style=\"color: #1e293b; font-size: 13px; font-weight: 500; text-align: right;\">#${orderId.slice(0, 12).toUpperCase()}</td>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <td style=\"color: #64748b; font-size: 13px; padding: 4px 0;\">Producto:</td>\r\n                                        <td style=\"color: #1e293b; font-size: 13px; font-weight: 500; text-align: right;\">${productName}</td>\r\n                                    </tr>\r\n                                </table>\r\n                            </div>\r\n                            <p style=\"margin: 24px 0 0; color: #94a3b8; font-size: 13px; text-align: center;\">Tiempo estimado: <strong>2-5 dÃ­as hÃ¡biles</strong></p>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style=\"padding: 0 40px;\"><hr style=\"border: none; border-top: 1px solid #e2e8f0; margin: 0;\"></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td style=\"padding: 24px 40px; text-align: center;\">\r\n                            <p style=\"margin: 0 0 8px; color: #94a3b8; font-size: 12px;\">Â© ${new Date().getFullYear()} QRClima by TESIVIL</p>\r\n                            <p style=\"margin: 0; color: #cbd5e1; font-size: 11px;\">Â¿Problemas con tu envÃ­o? EscrÃ­benos a qrclima@tesivil.com</p>\r\n                        </td>\r\n                    </tr>\r\n                </table>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</body>\r\n</html>`;\n                        await resend.emails.send({\n                            from: \"QRClima Store <noreply@tesivil.com>\",\n                            to: [\n                                userEmail\n                            ],\n                            subject: \"\\uD83D\\uDCE6 \\xa1Tu pedido va en camino! - QRClima\",\n                            html: htmlContent\n                        });\n                        console.log(`ðŸ“§ Shipped email sent to ${userEmail} for order ${orderId}`);\n                    }\n                }\n            }\n        } catch (emailError) {\n            console.error(\"Error sending shipped notification email:\", emailError);\n        // Don't fail the entire operation if email fails\n        }\n        return true;\n    } catch (error) {\n        console.error(\"Error marking order as shipped:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene contenido flaggeado para moderaciÃ³n\r\n */ const getFlaggedContent = async ()=>{\n    try {\n        // Hilos flaggeados\n        const threadsSnapshot = await adminDb.collection(\"sos_threads\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        // Comentarios flaggeados\n        const commentsSnapshot = await adminDb.collection(\"sos_comments\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        const threads = threadsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"thread\",\n                ...doc.data()\n            }));\n        const comments = commentsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"comment\",\n                ...doc.data()\n            }));\n        return [\n            ...threads,\n            ...comments\n        ].sort((a, b)=>b.createdAt?.toDate?.() - a.createdAt?.toDate?.());\n    } catch (error) {\n        console.error(\"Error fetching flagged content:\", error);\n        return [];\n    }\n};\n/**\r\n * Acciones de moderaciÃ³n\r\n */ const moderateContent = async (contentId, contentType, action)=>{\n    try {\n        const collection = contentType === \"thread\" ? \"sos_threads\" : \"sos_comments\";\n        const docRef = adminDb.collection(collection).doc(contentId);\n        const doc = await docRef.get();\n        if (!doc.exists) {\n            throw new Error(\"Content not found\");\n        }\n        const authorId = doc.data()?.authorId;\n        switch(action){\n            case \"dismiss\":\n                await docRef.update({\n                    isOffensive: false,\n                    reviewedAt: new Date()\n                });\n                break;\n            case \"delete\":\n                await docRef.delete();\n                break;\n            case \"ban\":\n                await docRef.delete();\n                if (authorId) {\n                    await adminDb.collection(\"users\").doc(authorId).update({\n                        is_banned: true,\n                        bannedAt: new Date(),\n                        banReason: \"Contenido inapropiado\"\n                    });\n                }\n                break;\n        }\n        // Log de auditorÃ­a\n        await adminDb.collection(\"admin_logs\").add({\n            action: `moderation_${action}`,\n            contentId,\n            contentType,\n            authorId,\n            adminId: \"system\",\n            timestamp: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error moderating content:\", error);\n        return false;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NkJBQTZCQTtRQUMzQyxPQUFPO0lBQ1g7QUFDSixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcXJjbGltYS1hZG1pbi8uL2xpYi9maXJlYmFzZS1hZG1pbi50cz82YTQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAsIGdldEFwcHMsIGNlcnQgfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9hcHAnO1xyXG5pbXBvcnQgeyBnZXRGaXJlc3RvcmUgfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9maXJlc3RvcmUnO1xyXG5pbXBvcnQgeyBnZXRBdXRoIH0gZnJvbSAnZmlyZWJhc2UtYWRtaW4vYXV0aCc7XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBGaXJlYmFzZSBBZG1pbiBTREsgQ29uZmlndXJhdGlvblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBcclxuLy8gSU5TVFJVQ0NJT05FUyBERSBDT05GSUdVUkFDScOTTjpcclxuLy8gXHJcbi8vIDEuIFZlIGEgRmlyZWJhc2UgQ29uc29sZSA+IENvbmZpZ3VyYWNpw7NuIGRlbCBwcm95ZWN0byA+IEN1ZW50YXMgZGUgc2VydmljaW9cclxuLy8gMi4gSGF6IGNsaWMgZW4gXCJHZW5lcmFyIG51ZXZhIGNsYXZlIHByaXZhZGFcIlxyXG4vLyAzLiBHdWFyZGEgZWwgYXJjaGl2byBKU09OIGRlIGZvcm1hIHNlZ3VyYVxyXG4vLyA0LiBDb25maWd1cmEgbGFzIHZhcmlhYmxlcyBkZSBlbnRvcm5vOlxyXG4vLyAgICAtIEZJUkVCQVNFX1BST0pFQ1RfSURcclxuLy8gICAgLSBGSVJFQkFTRV9DTElFTlRfRU1BSUxcclxuLy8gICAgLSBGSVJFQkFTRV9QUklWQVRFX0tFWSAoY29uIHNhbHRvcyBkZSBsw61uZWEgZXNjYXBhZG9zIGNvbW8gXFxuKVxyXG4vLyBcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbi8vIFBhcnNlIHByaXZhdGUga2V5IC0gaGFuZGxlIGRpZmZlcmVudCBlc2NhcGUgZm9ybWF0c1xyXG5jb25zdCBmb3JtYXRQcml2YXRlS2V5ID0gKGtleTogc3RyaW5nIHwgdW5kZWZpbmVkKTogc3RyaW5nIHwgdW5kZWZpbmVkID0+IHtcclxuICAgIGlmICgha2V5KSByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgLy8gUmVtb3ZlIHN1cnJvdW5kaW5nIHF1b3RlcyBpZiBwcmVzZW50XHJcbiAgICBsZXQgY2xlYW5lZCA9IGtleS5yZXBsYWNlKC9eW1wiJ118W1wiJ10kL2csICcnKTtcclxuICAgIC8vIFJlcGxhY2UgbGl0ZXJhbCBcXG4gd2l0aCBhY3R1YWwgbmV3bGluZXNcclxuICAgIGNsZWFuZWQgPSBjbGVhbmVkLnJlcGxhY2UoL1xcXFxuL2csICdcXG4nKTtcclxuICAgIHJldHVybiBjbGVhbmVkO1xyXG59O1xyXG5cclxubGV0IGFkbWluRGI6IEZpcmViYXNlRmlyZXN0b3JlLkZpcmVzdG9yZTtcclxubGV0IGFkbWluQXV0aDogUmV0dXJuVHlwZTx0eXBlb2YgZ2V0QXV0aD47XHJcblxyXG50cnkge1xyXG4gICAgY29uc3QgcHJpdmF0ZUtleSA9IGZvcm1hdFByaXZhdGVLZXkocHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJJVkFURV9LRVkpO1xyXG5cclxuICAgIGlmICghcHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJPSkVDVF9JRCB8fCAhcHJvY2Vzcy5lbnYuRklSRUJBU0VfQ0xJRU5UX0VNQUlMIHx8ICFwcml2YXRlS2V5KSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdGaXJlYmFzZSBBZG1pbjogTWlzc2luZyByZXF1aXJlZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMnKTtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0ZJUkVCQVNFX1BST0pFQ1RfSUQ6JywgISFwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lEKTtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0ZJUkVCQVNFX0NMSUVOVF9FTUFJTDonLCAhIXByb2Nlc3MuZW52LkZJUkVCQVNFX0NMSUVOVF9FTUFJTCk7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdGSVJFQkFTRV9QUklWQVRFX0tFWTonLCAhIXByaXZhdGVLZXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGZpcmViYXNlQWRtaW5Db25maWcgPSB7XHJcbiAgICAgICAgY3JlZGVudGlhbDogY2VydCh7XHJcbiAgICAgICAgICAgIHByb2plY3RJZDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfUFJPSkVDVF9JRCxcclxuICAgICAgICAgICAgY2xpZW50RW1haWw6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0NMSUVOVF9FTUFJTCxcclxuICAgICAgICAgICAgcHJpdmF0ZUtleTogcHJpdmF0ZUtleSxcclxuICAgICAgICB9KSxcclxuICAgIH07XHJcblxyXG4gICAgLy8gSW5pY2lhbGl6YXIgc29sbyBzaSBubyBoYXkgaW5zdGFuY2lhcyBleGlzdGVudGVzXHJcbiAgICBjb25zdCBhcHAgPSBnZXRBcHBzKCkubGVuZ3RoID09PSAwID8gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUFkbWluQ29uZmlnKSA6IGdldEFwcHMoKVswXTtcclxuXHJcbiAgICAvLyBFeHBvcnRhciBpbnN0YW5jaWFzXHJcbiAgICBhZG1pbkRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcbiAgICBhZG1pbkF1dGggPSBnZXRBdXRoKGFwcCk7XHJcbn0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGaXJlYmFzZSBBZG1pbiBpbml0aWFsaXphdGlvbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAvLyBDcmVhdGUgbW9jayBvYmplY3RzIHRvIHByZXZlbnQgY3Jhc2hlc1xyXG4gICAgYWRtaW5EYiA9IG51bGwgYXMgYW55O1xyXG4gICAgYWRtaW5BdXRoID0gbnVsbCBhcyBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IGFkbWluRGIsIGFkbWluQXV0aCB9O1xyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gSGVscGVyIEZ1bmN0aW9uc1xyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLyoqXHJcbiAqIFZlcmlmaWNhIHNpIHVuIHVzdWFyaW8gZXMgYWRtaW5pc3RyYWRvclxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGlzVXNlckFkbWluID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICAgIGNvbnN0IGFkbWluRW1haWxzID0gcHJvY2Vzcy5lbnYuQURNSU5fRU1BSUxTPy5zcGxpdCgnLCcpLm1hcChlID0+IGUudHJpbSgpKSB8fCBbXTtcclxuICAgIHJldHVybiBhZG1pbkVtYWlscy5pbmNsdWRlcyhlbWFpbCk7XHJcbn07XHJcblxyXG4vKipcclxuICogT2J0aWVuZSBlc3RhZMOtc3RpY2FzIGdsb2JhbGVzIGRlIGxhIGFwcFxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEdsb2JhbFN0YXRzID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBVc3VhcmlvcyB0b3RhbGVzXHJcbiAgICAgICAgY29uc3QgdXNlcnNTbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKS5jb3VudCgpLmdldCgpO1xyXG4gICAgICAgIGNvbnN0IHRvdGFsVXNlcnMgPSB1c2Vyc1NuYXBzaG90LmRhdGEoKS5jb3VudDtcclxuXHJcbiAgICAgICAgLy8gVXN1YXJpb3MgUFJPIC0gTGEgYXBwIHVzYSBzdWJzY3JpcHRpb246ICdQcm8nIHwgJ1BybysnIGNvbiB2ZXJpZmljYWNpw7NuIGRlIGZlY2hhXHJcbiAgICAgICAgLy8gTmVjZXNpdGFtb3MgY29udGFyIHVzdWFyaW9zIGNvbiBzdWJzY3JpcHRpb24gYWN0aXZhIHkgbm8gZXhwaXJhZGFcclxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGNvbnN0IHByb1NuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCd1c2VycycpXHJcbiAgICAgICAgICAgIC53aGVyZSgnc3Vic2NyaXB0aW9uJywgJ2luJywgWydQcm8nLCAnUHJvKyddKVxyXG4gICAgICAgICAgICAuZ2V0KCk7XHJcblxyXG4gICAgICAgIC8vIEZpbHRyYXIgc29sbyBsb3MgcXVlIHRpZW5lbiBzdXNjcmlwY2nDs24gdmlnZW50ZVxyXG4gICAgICAgIGNvbnN0IHByb1VzZXJzID0gcHJvU25hcHNob3QuZG9jcy5maWx0ZXIoZG9jID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IGRvYy5kYXRhKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSBkYXRhLnN1YnNjcmlwdGlvbkVuZERhdGU/LnRvRGF0ZT8uKCkgfHxcclxuICAgICAgICAgICAgICAgIChkYXRhLnN1YnNjcmlwdGlvbkVuZERhdGUgPyBuZXcgRGF0ZShkYXRhLnN1YnNjcmlwdGlvbkVuZERhdGUpIDogbnVsbCk7XHJcbiAgICAgICAgICAgIC8vIFNpIG5vIGhheSBmZWNoYSBkZSBleHBpcmFjacOzbiBvIG5vIGhhIGV4cGlyYWRvLCBlcyBQUk8gYWN0aXZvXHJcbiAgICAgICAgICAgIHJldHVybiAhZW5kRGF0ZSB8fCBlbmREYXRlID49IG5vdztcclxuICAgICAgICB9KS5sZW5ndGg7XHJcblxyXG4gICAgICAgIC8vIFNlcnZpY2lvcyBkZWwgbWVzXHJcbiAgICAgICAgY29uc3Qgc3RhcnRPZk1vbnRoID0gbmV3IERhdGUoKTtcclxuICAgICAgICBzdGFydE9mTW9udGguc2V0RGF0ZSgxKTtcclxuICAgICAgICBzdGFydE9mTW9udGguc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3NlcnZpY2VzJylcclxuICAgICAgICAgICAgLndoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBzdGFydE9mTW9udGgpXHJcbiAgICAgICAgICAgIC5jb3VudCgpXHJcbiAgICAgICAgICAgIC5nZXQoKTtcclxuICAgICAgICBjb25zdCBzZXJ2aWNlc1RoaXNNb250aCA9IHNlcnZpY2VzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICAvLyBUb2tlbnMgZW4gY2lyY3VsYWNpw7NuIChzdW1hIGRlIGJhbGFuY2VzKVxyXG4gICAgICAgIGNvbnN0IHVzZXJzV2l0aFRva2VucyA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKS5nZXQoKTtcclxuICAgICAgICBsZXQgdG9rZW5GbG9hdCA9IDA7XHJcbiAgICAgICAgdXNlcnNXaXRoVG9rZW5zLmRvY3MuZm9yRWFjaChkb2MgPT4ge1xyXG4gICAgICAgICAgICB0b2tlbkZsb2F0ICs9IGRvYy5kYXRhKCkudG9rZW5CYWxhbmNlIHx8IDA7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFBlZGlkb3MgcGVuZGllbnRlc1xyXG4gICAgICAgIGNvbnN0IHBlbmRpbmdPcmRlcnNTbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignb3JkZXJzJylcclxuICAgICAgICAgICAgLndoZXJlKCdzdGF0dXMnLCAnaW4nLCBbJ3BhaWQnLCAncHJvY2Vzc2luZyddKVxyXG4gICAgICAgICAgICAuY291bnQoKVxyXG4gICAgICAgICAgICAuZ2V0KCk7XHJcbiAgICAgICAgY29uc3QgcGVuZGluZ09yZGVycyA9IHBlbmRpbmdPcmRlcnNTbmFwc2hvdC5kYXRhKCkuY291bnQ7XHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvdGFsVXNlcnMsXHJcbiAgICAgICAgICAgIHByb1VzZXJzLFxyXG4gICAgICAgICAgICBzZXJ2aWNlc1RoaXNNb250aCxcclxuICAgICAgICAgICAgdG9rZW5GbG9hdCxcclxuICAgICAgICAgICAgcGVuZGluZ09yZGVycyxcclxuICAgICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBnbG9iYWwgc3RhdHM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgdXN1YXJpb3MgY29uIHBhZ2luYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0VXNlcnMgPSBhc3luYyAoXHJcbiAgICBwYWdlOiBudW1iZXIgPSAxLFxyXG4gICAgbGltaXQ6IG51bWJlciA9IDIwLFxyXG4gICAgc2VhcmNoUXVlcnk/OiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBxdWVyeSA9IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICAgICAgICAub3JkZXJCeSgnY3JlYXRlZEF0JywgJ2Rlc2MnKVxyXG4gICAgICAgICAgICAubGltaXQobGltaXQpXHJcbiAgICAgICAgICAgIC5vZmZzZXQoKHBhZ2UgLSAxKSAqIGxpbWl0KTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogUGFyYSBiw7pzcXVlZGEgbmVjZXNpdGFyZW1vcyDDrW5kaWNlcyBjb21wdWVzdG9zIG8gQWxnb2xpYS9UeXBlc2Vuc2VcclxuICAgICAgICAvLyBQb3IgYWhvcmEgcmV0b3JuYW1vcyBzaW4gZmlsdHJvIGRlIGLDunNxdWVkYSBkZWwgbGFkbyBkZWwgc2Vydmlkb3JcclxuXHJcbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBxdWVyeS5nZXQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgdXNlcnM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBY3R1YWxpemEgdW4gdXN1YXJpb1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVzZXIgPSBhc3luYyAoXHJcbiAgICB1c2VySWQ6IHN0cmluZyxcclxuICAgIHVwZGF0ZXM6IHtcclxuICAgICAgICBpc19iYW5uZWQ/OiBib29sZWFuO1xyXG4gICAgICAgIGlzX3ByZW1pdW0/OiBib29sZWFuO1xyXG4gICAgICAgIGVsaWdpYmxlX2Zvcl9kaXJlY3Rvcnk/OiBib29sZWFuO1xyXG4gICAgICAgIHRva2VuX2JhbGFuY2U/OiBudW1iZXI7XHJcbiAgICB9XHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKHVzZXJJZCkudXBkYXRlKHtcclxuICAgICAgICAgICAgLi4udXBkYXRlcyxcclxuICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1cGRhdGluZyB1c2VyOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogT2J0aWVuZSDDs3JkZW5lcyBwZW5kaWVudGVzXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0UGVuZGluZ09yZGVycyA9IGFzeW5jICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ29yZGVycycpXHJcbiAgICAgICAgICAgIC53aGVyZSgnc3RhdHVzJywgJ2luJywgWydwYWlkJywgJ3Byb2Nlc3NpbmcnXSlcclxuICAgICAgICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJylcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICByZXR1cm4gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XHJcbiAgICAgICAgICAgIGlkOiBkb2MuaWQsXHJcbiAgICAgICAgICAgIC4uLmRvYy5kYXRhKCksXHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwZW5kaW5nIG9yZGVyczonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE1hcmNhIHVuYSBvcmRlbiBjb21vIGVudmlhZGEgeSBlbnbDrWEgZW1haWwgYWwgY2xpZW50ZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1hcmtPcmRlclNoaXBwZWQgPSBhc3luYyAoXHJcbiAgICBvcmRlcklkOiBzdHJpbmcsXHJcbiAgICB0cmFja2luZ051bWJlcjogc3RyaW5nLFxyXG4gICAgdHJhY2tpbmdDYXJyaWVyOiBzdHJpbmdcclxuKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEdldCBvcmRlciBhbmQgdXNlciBkYXRhIGZpcnN0XHJcbiAgICAgICAgY29uc3Qgb3JkZXJEb2MgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ29yZGVycycpLmRvYyhvcmRlcklkKS5nZXQoKTtcclxuICAgICAgICBpZiAoIW9yZGVyRG9jLmV4aXN0cykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdPcmRlciBub3QgZm91bmQ6Jywgb3JkZXJJZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IG9yZGVyRGF0YSA9IG9yZGVyRG9jLmRhdGEoKSE7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gb3JkZXJEYXRhLnVzZXJJZDtcclxuXHJcbiAgICAgICAgLy8gVXBkYXRlIG9yZGVyIHN0YXR1c1xyXG4gICAgICAgIGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignb3JkZXJzJykuZG9jKG9yZGVySWQpLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIHN0YXR1czogJ3NoaXBwZWQnLFxyXG4gICAgICAgICAgICB0cmFja2luZ051bWJlcixcclxuICAgICAgICAgICAgdHJhY2tpbmdDYXJyaWVyLFxyXG4gICAgICAgICAgICBzaGlwcGVkQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vIFNlbmQgZW1haWwgbm90aWZpY2F0aW9uXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXNlckRvYyA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKS5kb2ModXNlcklkKS5nZXQoKTtcclxuICAgICAgICAgICAgICAgIGlmICh1c2VyRG9jLmV4aXN0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0gdXNlckRvYy5kYXRhKCkhO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJFbWFpbCA9IHVzZXJEYXRhLmVtYWlsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJOYW1lID0gdXNlckRhdGEuYWxpYXMgfHwgdXNlckRhdGEuZGlzcGxheU5hbWU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyRW1haWwgJiYgcHJvY2Vzcy5lbnYuUkVTRU5EX0FQSV9LRVkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBSZXNlbmQgfSA9IGF3YWl0IGltcG9ydCgncmVzZW5kJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc2VuZCA9IG5ldyBSZXNlbmQocHJvY2Vzcy5lbnYuUkVTRU5EX0FQSV9LRVkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FycmllciB0cmFja2luZyBVUkxzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhcnJpZXJVcmxzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0RITCc6IGBodHRwczovL3d3dy5kaGwuY29tL214LWVzL2hvbWUvcmFzdHJlby5odG1sP3RyYWNraW5nLWlkPSR7dHJhY2tpbmdOdW1iZXJ9YCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdFc3RhZmV0YSc6IGBodHRwczovL3Jhc3RyZW8zLmVzdGFmZXRhLmNvbS9TZWd1aW1pZW50by9Fc3RhZmV0YVE/dHlwZT1SJnJlZmVyZW5jaWE9JHt0cmFja2luZ051bWJlcn1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0ZlZEV4JzogYGh0dHBzOi8vd3d3LmZlZGV4LmNvbS9mZWRleHRyYWNrLz90cmtuYnI9JHt0cmFja2luZ051bWJlcn1gLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvcnJlb3MgZGUgTcOpeGljbyc6IGBodHRwczovL3d3dy5jb3JyZW9zZGVtZXhpY28uZ29iLm14L1NTTFNlcnZpY2lvcy9TZWd1aW1pZW50b0VudmlvL1NlZ3VpbWllbnRvLmFzcHg/Z3VpYT0ke3RyYWNraW5nTnVtYmVyfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnUGFxdWV0ZXhwcmVzcyc6IGBodHRwczovL3d3dy5wYXF1ZXRleHByZXNzLmNvbS5teC9yYXN0cmVvP251bWVybz0ke3RyYWNraW5nTnVtYmVyfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHRyYWNraW5nVXJsID0gY2FycmllclVybHNbdHJhY2tpbmdDYXJyaWVyXSB8fCAnIyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHByb2R1Y3ROYW1lID0gb3JkZXJEYXRhLnByb2R1Y3ROYW1lIHx8IG9yZGVyRGF0YS5wcm9kdWN0IHx8ICdQcm9kdWN0byc7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBCdWlsZCBIVE1MIGVtYWlsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGh0bWxDb250ZW50ID0gYFxyXG48IURPQ1RZUEUgaHRtbD5cclxuPGh0bWwgbGFuZz1cImVzXCI+XHJcbjxoZWFkPlxyXG4gICAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XHJcbiAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxyXG4gICAgPHRpdGxlPsKhVHUgcGVkaWRvIHZhIGVuIGNhbWlubyEgLSBRUkNsaW1hPC90aXRsZT5cclxuPC9oZWFkPlxyXG48Ym9keSBzdHlsZT1cIm1hcmdpbjogMDsgcGFkZGluZzogMDsgZm9udC1mYW1pbHk6ICdTZWdvZSBVSScsIFRhaG9tYSwgR2VuZXZhLCBWZXJkYW5hLCBzYW5zLXNlcmlmOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmNGY4O1wiPlxyXG4gICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBzdHlsZT1cIndpZHRoOiAxMDAlOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjBmNGY4O1wiPlxyXG4gICAgICAgIDx0cj5cclxuICAgICAgICAgICAgPHRkIHN0eWxlPVwicGFkZGluZzogNDBweCAyMHB4O1wiPlxyXG4gICAgICAgICAgICAgICAgPHRhYmxlIHJvbGU9XCJwcmVzZW50YXRpb25cIiBjZWxscGFkZGluZz1cIjBcIiBjZWxsc3BhY2luZz1cIjBcIiBzdHlsZT1cIm1heC13aWR0aDogNTIwcHg7IG1hcmdpbjogMCBhdXRvOyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmOyBib3JkZXItcmFkaXVzOiAxNnB4OyBvdmVyZmxvdzogaGlkZGVuOyBib3gtc2hhZG93OiAwIDRweCAyNHB4IHJnYmEoMCwgMCwgMCwgMC4wOCk7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjOEI1Q0Y2IDAlLCAjN0MzQUVEIDEwMCUpOyBwYWRkaW5nOiAzMnB4IDQwcHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoMSBzdHlsZT1cIm1hcmdpbjogMDsgY29sb3I6ICNmZmZmZmY7IGZvbnQtc2l6ZTogMjhweDsgZm9udC13ZWlnaHQ6IDcwMDtcIj7wn5OmIMKhVHUgcGVkaWRvIHZhIGVuIGNhbWlubyE8L2gxPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDhweCAwIDA7IGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSk7IGZvbnQtc2l6ZTogMTRweDtcIj5RUkNsaW1hIFN0b3JlPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiA0MHB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjRweDtcIj48c3BhbiBzdHlsZT1cImZvbnQtc2l6ZTogNTZweDtcIj7wn5qaPC9zcGFuPjwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGgyIHN0eWxlPVwibWFyZ2luOiAwIDAgMTZweDsgY29sb3I6ICMxZTI5M2I7IGZvbnQtc2l6ZTogMjJweDsgZm9udC13ZWlnaHQ6IDYwMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIMKhRXhjZWxlbnRlcyBub3RpY2lhcyR7dXNlck5hbWUgPyBgLCAke3VzZXJOYW1lfWAgOiAnJ30hXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDAgMCAyNHB4OyBjb2xvcjogIzY0NzQ4YjsgZm9udC1zaXplOiAxNXB4OyBsaW5lLWhlaWdodDogMS42OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgVHUgcGVkaWRvIGhhIHNpZG8gZW52aWFkbyB5IHByb250byBsbGVnYXLDoSBhIHR1IHB1ZXJ0YS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCJiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQoMTM1ZGVnLCAjZjVmM2ZmIDAlLCAjZWRlOWZlIDEwMCUpOyBib3JkZXI6IDJweCBzb2xpZCAjYzRiNWZkOyBib3JkZXItcmFkaXVzOiAxMnB4OyBwYWRkaW5nOiAyNHB4OyBtYXJnaW46IDAgMCAyNHB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHg7IGNvbG9yOiAjN2MzYWVkOyBmb250LXNpemU6IDEycHg7IHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7IGxldHRlci1zcGFjaW5nOiAxcHg7IGZvbnQtd2VpZ2h0OiA2MDA7XCI+JHt0cmFja2luZ0NhcnJpZXJ9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwIDAgMTZweDsgY29sb3I6ICM1YjIxYjY7IGZvbnQtc2l6ZTogMjRweDsgZm9udC13ZWlnaHQ6IDcwMDsgbGV0dGVyLXNwYWNpbmc6IDJweDsgZm9udC1mYW1pbHk6ICdDb3VyaWVyIE5ldycsIG1vbm9zcGFjZTtcIj4ke3RyYWNraW5nTnVtYmVyfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiJHt0cmFja2luZ1VybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIiBzdHlsZT1cImRpc3BsYXk6IGlubGluZS1ibG9jazsgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDEzNWRlZywgIzhCNUNGNiAwJSwgIzdDM0FFRCAxMDAlKTsgY29sb3I6ICNmZmZmZmY7IHRleHQtZGVjb3JhdGlvbjogbm9uZTsgcGFkZGluZzogMTJweCAyOHB4OyBib3JkZXItcmFkaXVzOiA4cHg7IGZvbnQtd2VpZ2h0OiA2MDA7IGZvbnQtc2l6ZTogMTRweDtcIj5SYXN0cmVhciBFbnbDrW8g4oaSPC9hPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPVwiYmFja2dyb3VuZC1jb2xvcjogI2Y4ZmFmYzsgYm9yZGVyLXJhZGl1czogOHB4OyBwYWRkaW5nOiAxNnB4O1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJjb2xvcjogIzY0NzQ4YjsgZm9udC1zaXplOiAxM3B4OyBwYWRkaW5nOiA0cHggMDtcIj5QZWRpZG86PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cImNvbG9yOiAjMWUyOTNiOyBmb250LXNpemU6IDEzcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IHRleHQtYWxpZ246IHJpZ2h0O1wiPiMke29yZGVySWQuc2xpY2UoMCwgMTIpLnRvVXBwZXJDYXNlKCl9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIHN0eWxlPVwiY29sb3I6ICM2NDc0OGI7IGZvbnQtc2l6ZTogMTNweDsgcGFkZGluZzogNHB4IDA7XCI+UHJvZHVjdG86PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cImNvbG9yOiAjMWUyOTNiOyBmb250LXNpemU6IDEzcHg7IGZvbnQtd2VpZ2h0OiA1MDA7IHRleHQtYWxpZ246IHJpZ2h0O1wiPiR7cHJvZHVjdE5hbWV9PC90ZD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cIm1hcmdpbjogMjRweCAwIDA7IGNvbG9yOiAjOTRhM2I4OyBmb250LXNpemU6IDEzcHg7IHRleHQtYWxpZ246IGNlbnRlcjtcIj5UaWVtcG8gZXN0aW1hZG86IDxzdHJvbmc+Mi01IGTDrWFzIGjDoWJpbGVzPC9zdHJvbmc+PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8dGQgc3R5bGU9XCJwYWRkaW5nOiAwIDQwcHg7XCI+PGhyIHN0eWxlPVwiYm9yZGVyOiBub25lOyBib3JkZXItdG9wOiAxcHggc29saWQgI2UyZThmMDsgbWFyZ2luOiAwO1wiPjwvdGQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBzdHlsZT1cInBhZGRpbmc6IDI0cHggNDBweDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJtYXJnaW46IDAgMCA4cHg7IGNvbG9yOiAjOTRhM2I4OyBmb250LXNpemU6IDEycHg7XCI+wqkgJHtuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCl9IFFSQ2xpbWEgYnkgVEVTSVZJTDwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwibWFyZ2luOiAwOyBjb2xvcjogI2NiZDVlMTsgZm9udC1zaXplOiAxMXB4O1wiPsK/UHJvYmxlbWFzIGNvbiB0dSBlbnbDrW8/IEVzY3LDrWJlbm9zIGEgcXJjbGltYUB0ZXNpdmlsLmNvbTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgPC90ZD5cclxuICAgICAgICA8L3RyPlxyXG4gICAgPC90YWJsZT5cclxuPC9ib2R5PlxyXG48L2h0bWw+YDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiAnUVJDbGltYSBTdG9yZSA8bm9yZXBseUB0ZXNpdmlsLmNvbT4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG86IFt1c2VyRW1haWxdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdDogJ/Cfk6YgwqFUdSBwZWRpZG8gdmEgZW4gY2FtaW5vISAtIFFSQ2xpbWEnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogaHRtbENvbnRlbnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk6cgU2hpcHBlZCBlbWFpbCBzZW50IHRvICR7dXNlckVtYWlsfSBmb3Igb3JkZXIgJHtvcmRlcklkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVtYWlsRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBzaGlwcGVkIG5vdGlmaWNhdGlvbiBlbWFpbDonLCBlbWFpbEVycm9yKTtcclxuICAgICAgICAgICAgLy8gRG9uJ3QgZmFpbCB0aGUgZW50aXJlIG9wZXJhdGlvbiBpZiBlbWFpbCBmYWlsc1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1hcmtpbmcgb3JkZXIgYXMgc2hpcHBlZDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgY29udGVuaWRvIGZsYWdnZWFkbyBwYXJhIG1vZGVyYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0RmxhZ2dlZENvbnRlbnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEhpbG9zIGZsYWdnZWFkb3NcclxuICAgICAgICBjb25zdCB0aHJlYWRzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3Nvc190aHJlYWRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICAvLyBDb21lbnRhcmlvcyBmbGFnZ2VhZG9zXHJcbiAgICAgICAgY29uc3QgY29tbWVudHNTbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignc29zX2NvbW1lbnRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICBjb25zdCB0aHJlYWRzID0gdGhyZWFkc1NuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICB0eXBlOiAndGhyZWFkJyBhcyBjb25zdCxcclxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzID0gY29tbWVudHNTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgdHlwZTogJ2NvbW1lbnQnIGFzIGNvbnN0LFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFsuLi50aHJlYWRzLCAuLi5jb21tZW50c10uc29ydCgoYTogYW55LCBiOiBhbnkpID0+XHJcbiAgICAgICAgICAgIGIuY3JlYXRlZEF0Py50b0RhdGU/LigpIC0gYS5jcmVhdGVkQXQ/LnRvRGF0ZT8uKClcclxuICAgICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbGFnZ2VkIGNvbnRlbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBY2Npb25lcyBkZSBtb2RlcmFjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1vZGVyYXRlQ29udGVudCA9IGFzeW5jIChcclxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxyXG4gICAgY29udGVudFR5cGU6ICd0aHJlYWQnIHwgJ2NvbW1lbnQnLFxyXG4gICAgYWN0aW9uOiAnZGlzbWlzcycgfCAnZGVsZXRlJyB8ICdiYW4nXHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29udGVudFR5cGUgPT09ICd0aHJlYWQnID8gJ3Nvc190aHJlYWRzJyA6ICdzb3NfY29tbWVudHMnO1xyXG4gICAgICAgIGNvbnN0IGRvY1JlZiA9IGFkbWluRGIuY29sbGVjdGlvbihjb2xsZWN0aW9uKS5kb2MoY29udGVudElkKTtcclxuICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCBkb2NSZWYuZ2V0KCk7XHJcblxyXG4gICAgICAgIGlmICghZG9jLmV4aXN0cykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdXRob3JJZCA9IGRvYy5kYXRhKCk/LmF1dGhvcklkO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdkaXNtaXNzJzpcclxuICAgICAgICAgICAgICAgIGF3YWl0IGRvY1JlZi51cGRhdGUoeyBpc09mZmVuc2l2ZTogZmFsc2UsIHJldmlld2VkQXQ6IG5ldyBEYXRlKCkgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2Jhbic6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXV0aG9ySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKGF1dGhvcklkKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19iYW5uZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhbm5lZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5SZWFzb246ICdDb250ZW5pZG8gaW5hcHJvcGlhZG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2cgZGUgYXVkaXRvcsOtYVxyXG4gICAgICAgIGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignYWRtaW5fbG9ncycpLmFkZCh7XHJcbiAgICAgICAgICAgIGFjdGlvbjogYG1vZGVyYXRpb25fJHthY3Rpb259YCxcclxuICAgICAgICAgICAgY29udGVudElkLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZSxcclxuICAgICAgICAgICAgYXV0aG9ySWQsXHJcbiAgICAgICAgICAgIGFkbWluSWQ6ICdzeXN0ZW0nLCAvLyBUT0RPOiBPYnRlbmVyIGRlbCB1c3VhcmlvIGF1dGVudGljYWRvXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1vZGVyYXRpbmcgY29udGVudDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJjZXJ0IiwiZ2V0RmlyZXN0b3JlIiwiZ2V0QXV0aCIsImZvcm1hdFByaXZhdGVLZXkiLCJrZXkiLCJ1bmRlZmluZWQiLCJjbGVhbmVkIiwicmVwbGFjZSIsImFkbWluRGIiLCJhZG1pbkF1dGgiLCJwcml2YXRlS2V5IiwicHJvY2VzcyIsImVudiIsIkZJUkVCQVNFX1BSSVZBVEVfS0VZIiwiRklSRUJBU0VfUFJPSkVDVF9JRCIsIkZJUkVCQVNFX0NMSUVOVF9FTUFJTCIsImNvbnNvbGUiLCJ3YXJuIiwiZmlyZWJhc2VBZG1pbkNvbmZpZyIsImNyZWRlbnRpYWwiLCJwcm9qZWN0SWQiLCJjbGllbnRFbWFpbCIsImFwcCIsImxlbmd0aCIsImVycm9yIiwiaXNVc2VyQWRtaW4iLCJlbWFpbCIsImFkbWluRW1haWxzIiwiQURNSU5fRU1BSUxTIiwic3BsaXQiLCJtYXAiLCJlIiwidHJpbSIsImluY2x1ZGVzIiwiZ2V0R2xvYmFsU3RhdHMiLCJ1c2Vyc1NuYXBzaG90IiwiY29sbGVjdGlvbiIsImNvdW50IiwiZ2V0IiwidG90YWxVc2VycyIsImRhdGEiLCJub3ciLCJEYXRlIiwicHJvU25hcHNob3QiLCJ3aGVyZSIsInByb1VzZXJzIiwiZG9jcyIsImZpbHRlciIsImRvYyIsImVuZERhdGUiLCJzdWJzY3JpcHRpb25FbmREYXRlIiwidG9EYXRlIiwic3RhcnRPZk1vbnRoIiwic2V0RGF0ZSIsInNldEhvdXJzIiwic2VydmljZXNTbmFwc2hvdCIsInNlcnZpY2VzVGhpc01vbnRoIiwidXNlcnNXaXRoVG9rZW5zIiwidG9rZW5GbG9hdCIsImZvckVhY2giLCJ0b2tlbkJhbGFuY2UiLCJwZW5kaW5nT3JkZXJzU25hcHNob3QiLCJwZW5kaW5nT3JkZXJzIiwiZ2V0VXNlcnMiLCJwYWdlIiwibGltaXQiLCJzZWFyY2hRdWVyeSIsInF1ZXJ5Iiwib3JkZXJCeSIsIm9mZnNldCIsInNuYXBzaG90IiwiaWQiLCJ1cGRhdGVVc2VyIiwidXNlcklkIiwidXBkYXRlcyIsInVwZGF0ZSIsInVwZGF0ZWRBdCIsImdldFBlbmRpbmdPcmRlcnMiLCJtYXJrT3JkZXJTaGlwcGVkIiwib3JkZXJJZCIsInRyYWNraW5nTnVtYmVyIiwidHJhY2tpbmdDYXJyaWVyIiwib3JkZXJEb2MiLCJleGlzdHMiLCJvcmRlckRhdGEiLCJzdGF0dXMiLCJzaGlwcGVkQXQiLCJ1c2VyRG9jIiwidXNlckRhdGEiLCJ1c2VyRW1haWwiLCJ1c2VyTmFtZSIsImFsaWFzIiwiZGlzcGxheU5hbWUiLCJSRVNFTkRfQVBJX0tFWSIsIlJlc2VuZCIsInJlc2VuZCIsImNhcnJpZXJVcmxzIiwidHJhY2tpbmdVcmwiLCJwcm9kdWN0TmFtZSIsInByb2R1Y3QiLCJodG1sQ29udGVudCIsInNsaWNlIiwidG9VcHBlckNhc2UiLCJnZXRGdWxsWWVhciIsImVtYWlscyIsInNlbmQiLCJmcm9tIiwidG8iLCJzdWJqZWN0IiwiaHRtbCIsImxvZyIsImVtYWlsRXJyb3IiLCJnZXRGbGFnZ2VkQ29udGVudCIsInRocmVhZHNTbmFwc2hvdCIsImNvbW1lbnRzU25hcHNob3QiLCJ0aHJlYWRzIiwidHlwZSIsImNvbW1lbnRzIiwic29ydCIsImEiLCJiIiwiY3JlYXRlZEF0IiwibW9kZXJhdGVDb250ZW50IiwiY29udGVudElkIiwiY29udGVudFR5cGUiLCJhY3Rpb24iLCJkb2NSZWYiLCJFcnJvciIsImF1dGhvcklkIiwiaXNPZmZlbnNpdmUiLCJyZXZpZXdlZEF0IiwiZGVsZXRlIiwiaXNfYmFubmVkIiwiYmFubmVkQXQiLCJiYW5SZWFzb24iLCJhZGQiLCJhZG1pbklkIiwidGltZXN0YW1wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/firebase-admin.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Forders%2Froute&page=%2Fapi%2Forders%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Forders%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();