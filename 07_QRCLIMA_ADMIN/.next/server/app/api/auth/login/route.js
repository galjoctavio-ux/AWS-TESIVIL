"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/auth/login/route";
exports.ids = ["app/api/auth/login/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "firebase-admin/app":
/*!*************************************!*\
  !*** external "firebase-admin/app" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/app");;

/***/ }),

/***/ "firebase-admin/auth":
/*!**************************************!*\
  !*** external "firebase-admin/auth" ***!
  \**************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/auth");;

/***/ }),

/***/ "firebase-admin/firestore":
/*!*******************************************!*\
  !*** external "firebase-admin/firestore" ***!
  \*******************************************/
/***/ ((module) => {

module.exports = import("firebase-admin/firestore");;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/auth/login/route.ts */ \"(rsc)/./app/api/auth/login/route.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__]);\nC_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/auth/login/route\",\n        pathname: \"/api/auth/login\",\n        filename: \"route\",\n        bundlePath: \"app/api/auth/login/route\"\n    },\n    resolvedPagePath: \"C:\\\\TESIVIL\\\\AWS-TESIVIL\\\\AWS-TESIVIL\\\\07_QRCLIMA_ADMIN\\\\app\\\\api\\\\auth\\\\login\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_TESIVIL_AWS_TESIVIL_AWS_TESIVIL_07_QRCLIMA_ADMIN_app_api_auth_login_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/auth/login/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhdXRoJTJGbG9naW4lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmF1dGglMkZsb2dpbiUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVEVTSVZJTCU1Q0FXUy1URVNJVklMJTVDQVdTLVRFU0lWSUwlNUMwN19RUkNMSU1BX0FETUlOJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVEVTSVZJTCU1Q0FXUy1URVNJVklMJTVDQVdTLVRFU0lWSUwlNUMwN19RUkNMSU1BX0FETUlOJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QztBQUNySDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3FyY2xpbWEtYWRtaW4vPzg1ZjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFxBV1MtVEVTSVZJTFxcXFwwN19RUkNMSU1BX0FETUlOXFxcXGFwcFxcXFxhcGlcXFxcYXV0aFxcXFxsb2dpblxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYXV0aC9sb2dpbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2F1dGgvbG9naW5cIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2F1dGgvbG9naW4vcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxURVNJVklMXFxcXEFXUy1URVNJVklMXFxcXEFXUy1URVNJVklMXFxcXDA3X1FSQ0xJTUFfQURNSU5cXFxcYXBwXFxcXGFwaVxcXFxhdXRoXFxcXGxvZ2luXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9hdXRoL2xvZ2luL3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/auth/login/route.ts":
/*!*************************************!*\
  !*** ./app/api/auth/login/route.ts ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/firebase-admin */ \"(rsc)/./lib/firebase-admin.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__]);\n_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function POST(request) {\n    try {\n        const { email, password } = await request.json();\n        if (!email || !password) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Email y contrase\\xf1a son requeridos\"\n            }, {\n                status: 400\n            });\n        }\n        // Verify admin email is in allowed list\n        const adminEmails = process.env.ADMIN_EMAILS?.split(\",\").map((e)=>e.trim().toLowerCase()) || [];\n        if (!adminEmails.includes(email.toLowerCase())) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"No tienes permisos de administrador\"\n            }, {\n                status: 403\n            });\n        }\n        // Verify password against fixed admin password\n        const adminPassword = process.env.ADMIN_PASSWORD;\n        if (!adminPassword) {\n            console.error(\"ADMIN_PASSWORD not configured in .env.local\");\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Sistema no configurado correctamente\"\n            }, {\n                status: 500\n            });\n        }\n        if (password !== adminPassword) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: \"Contrase\\xf1a incorrecta\"\n            }, {\n                status: 401\n            });\n        }\n        // Generate a simple user ID from email\n        const uid = Buffer.from(email.toLowerCase()).toString(\"base64\").replace(/[=]/g, \"\");\n        // Create session cookie (valid for 7 days)\n        const sessionData = {\n            uid,\n            email: email.toLowerCase(),\n            isAdmin: true,\n            createdAt: Date.now()\n        };\n        // Log admin login\n        if (_lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb) {\n            try {\n                await _lib_firebase_admin__WEBPACK_IMPORTED_MODULE_1__.adminDb.collection(\"admin_logs\").add({\n                    action: \"admin_login\",\n                    adminId: uid,\n                    adminEmail: email,\n                    timestamp: new Date(),\n                    ip: request.headers.get(\"x-forwarded-for\") || \"unknown\"\n                });\n            } catch (logError) {\n                console.error(\"Error logging admin login:\", logError);\n            }\n        }\n        // Create response with session cookie\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            user: {\n                uid,\n                email: email.toLowerCase()\n            }\n        });\n        // Set session cookie\n        response.cookies.set(\"admin_session\", JSON.stringify(sessionData), {\n            httpOnly: true,\n            secure: \"development\" === \"production\",\n            sameSite: \"lax\",\n            maxAge: 60 * 60 * 24 * 7,\n            path: \"/\"\n        });\n        return response;\n    } catch (error) {\n        console.error(\"Login error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: \"Error de autenticaci\\xf3n\"\n        }, {\n            status: 500\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJO0lBRXRCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9xcmNsaW1hLWFkbWluLy4vYXBwL2FwaS9hdXRoL2xvZ2luL3JvdXRlLnRzPzRmMjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBhZG1pbkRiIH0gZnJvbSAnQC9saWIvZmlyZWJhc2UtYWRtaW4nO1xyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogUmVxdWVzdCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcblxyXG4gICAgICAgIGlmICghZW1haWwgfHwgIXBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRW1haWwgeSBjb250cmFzZcOxYSBzb24gcmVxdWVyaWRvcycgfSxcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVmVyaWZ5IGFkbWluIGVtYWlsIGlzIGluIGFsbG93ZWQgbGlzdFxyXG4gICAgICAgIGNvbnN0IGFkbWluRW1haWxzID0gcHJvY2Vzcy5lbnYuQURNSU5fRU1BSUxTPy5zcGxpdCgnLCcpLm1hcChlID0+IGUudHJpbSgpLnRvTG93ZXJDYXNlKCkpIHx8IFtdO1xyXG5cclxuICAgICAgICBpZiAoIWFkbWluRW1haWxzLmluY2x1ZGVzKGVtYWlsLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnTm8gdGllbmVzIHBlcm1pc29zIGRlIGFkbWluaXN0cmFkb3InIH0sXHJcbiAgICAgICAgICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIFZlcmlmeSBwYXNzd29yZCBhZ2FpbnN0IGZpeGVkIGFkbWluIHBhc3N3b3JkXHJcbiAgICAgICAgY29uc3QgYWRtaW5QYXNzd29yZCA9IHByb2Nlc3MuZW52LkFETUlOX1BBU1NXT1JEO1xyXG5cclxuICAgICAgICBpZiAoIWFkbWluUGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignQURNSU5fUEFTU1dPUkQgbm90IGNvbmZpZ3VyZWQgaW4gLmVudi5sb2NhbCcpO1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ1Npc3RlbWEgbm8gY29uZmlndXJhZG8gY29ycmVjdGFtZW50ZScgfSxcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHBhc3N3b3JkICE9PSBhZG1pblBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnQ29udHJhc2XDsWEgaW5jb3JyZWN0YScgfSxcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDEgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gR2VuZXJhdGUgYSBzaW1wbGUgdXNlciBJRCBmcm9tIGVtYWlsXHJcbiAgICAgICAgY29uc3QgdWlkID0gQnVmZmVyLmZyb20oZW1haWwudG9Mb3dlckNhc2UoKSkudG9TdHJpbmcoJ2Jhc2U2NCcpLnJlcGxhY2UoL1s9XS9nLCAnJyk7XHJcblxyXG4gICAgICAgIC8vIENyZWF0ZSBzZXNzaW9uIGNvb2tpZSAodmFsaWQgZm9yIDcgZGF5cylcclxuICAgICAgICBjb25zdCBzZXNzaW9uRGF0YSA9IHtcclxuICAgICAgICAgICAgdWlkLFxyXG4gICAgICAgICAgICBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgaXNBZG1pbjogdHJ1ZSxcclxuICAgICAgICAgICAgY3JlYXRlZEF0OiBEYXRlLm5vdygpLFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIExvZyBhZG1pbiBsb2dpblxyXG4gICAgICAgIGlmIChhZG1pbkRiKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ2FkbWluX2xvZ3MnKS5hZGQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ2FkbWluX2xvZ2luJyxcclxuICAgICAgICAgICAgICAgICAgICBhZG1pbklkOiB1aWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRtaW5FbWFpbDogZW1haWwsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgIGlwOiByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKSB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxvZ2dpbmcgYWRtaW4gbG9naW46JywgbG9nRXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDcmVhdGUgcmVzcG9uc2Ugd2l0aCBzZXNzaW9uIGNvb2tpZVxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgICB1aWQsXHJcbiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWwudG9Mb3dlckNhc2UoKSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gU2V0IHNlc3Npb24gY29va2llXHJcbiAgICAgICAgcmVzcG9uc2UuY29va2llcy5zZXQoJ2FkbWluX3Nlc3Npb24nLCBKU09OLnN0cmluZ2lmeShzZXNzaW9uRGF0YSksIHtcclxuICAgICAgICAgICAgaHR0cE9ubHk6IHRydWUsXHJcbiAgICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJyxcclxuICAgICAgICAgICAgc2FtZVNpdGU6ICdsYXgnLFxyXG4gICAgICAgICAgICBtYXhBZ2U6IDYwICogNjAgKiAyNCAqIDcsIC8vIDcgZGF5c1xyXG4gICAgICAgICAgICBwYXRoOiAnLycsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdMb2dpbiBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ0Vycm9yIGRlIGF1dGVudGljYWNpw7NuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJhZG1pbkRiIiwiUE9TVCIsInJlcXVlc3QiLCJlbWFpbCIsInBhc3N3b3JkIiwianNvbiIsInN1Y2Nlc3MiLCJlcnJvciIsInN0YXR1cyIsImFkbWluRW1haWxzIiwicHJvY2VzcyIsImVudiIsIkFETUlOX0VNQUlMUyIsInNwbGl0IiwibWFwIiwiZSIsInRyaW0iLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiYWRtaW5QYXNzd29yZCIsIkFETUlOX1BBU1NXT1JEIiwiY29uc29sZSIsInVpZCIsIkJ1ZmZlciIsImZyb20iLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJzZXNzaW9uRGF0YSIsImlzQWRtaW4iLCJjcmVhdGVkQXQiLCJEYXRlIiwibm93IiwiY29sbGVjdGlvbiIsImFkZCIsImFjdGlvbiIsImFkbWluSWQiLCJhZG1pbkVtYWlsIiwidGltZXN0YW1wIiwiaXAiLCJoZWFkZXJzIiwiZ2V0IiwibG9nRXJyb3IiLCJyZXNwb25zZSIsInVzZXIiLCJjb29raWVzIiwic2V0IiwiSlNPTiIsInN0cmluZ2lmeSIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJwYXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/auth/login/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/firebase-admin.ts":
/*!*******************************!*\
  !*** ./lib/firebase-admin.ts ***!
  \*******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   adminAuth: () => (/* binding */ adminAuth),\n/* harmony export */   adminDb: () => (/* binding */ adminDb),\n/* harmony export */   getFlaggedContent: () => (/* binding */ getFlaggedContent),\n/* harmony export */   getGlobalStats: () => (/* binding */ getGlobalStats),\n/* harmony export */   getPendingOrders: () => (/* binding */ getPendingOrders),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   isUserAdmin: () => (/* binding */ isUserAdmin),\n/* harmony export */   markOrderShipped: () => (/* binding */ markOrderShipped),\n/* harmony export */   moderateContent: () => (/* binding */ moderateContent),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin/app */ \"firebase-admin/app\");\n/* harmony import */ var firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase-admin/firestore */ \"firebase-admin/firestore\");\n/* harmony import */ var firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase-admin/auth */ \"firebase-admin/auth\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__]);\n([firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__, firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__, firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// ============================================\n// Firebase Admin SDK Configuration\n// ============================================\n// \n// INSTRUCCIONES DE CONFIGURACIÓN:\n// \n// 1. Ve a Firebase Console > Configuración del proyecto > Cuentas de servicio\n// 2. Haz clic en \"Generar nueva clave privada\"\n// 3. Guarda el archivo JSON de forma segura\n// 4. Configura las variables de entorno:\n//    - FIREBASE_PROJECT_ID\n//    - FIREBASE_CLIENT_EMAIL\n//    - FIREBASE_PRIVATE_KEY (con saltos de línea escapados como \\n)\n// \n// ============================================\n// Parse private key - handle different escape formats\nconst formatPrivateKey = (key)=>{\n    if (!key) return undefined;\n    // Remove surrounding quotes if present\n    let cleaned = key.replace(/^[\"']|[\"']$/g, \"\");\n    // Replace literal \\n with actual newlines\n    cleaned = cleaned.replace(/\\\\n/g, \"\\n\");\n    return cleaned;\n};\nlet adminDb;\nlet adminAuth;\ntry {\n    const privateKey = formatPrivateKey(process.env.FIREBASE_PRIVATE_KEY);\n    if (!process.env.FIREBASE_PROJECT_ID || !process.env.FIREBASE_CLIENT_EMAIL || !privateKey) {\n        console.warn(\"Firebase Admin: Missing required environment variables\");\n        console.warn(\"FIREBASE_PROJECT_ID:\", !!process.env.FIREBASE_PROJECT_ID);\n        console.warn(\"FIREBASE_CLIENT_EMAIL:\", !!process.env.FIREBASE_CLIENT_EMAIL);\n        console.warn(\"FIREBASE_PRIVATE_KEY:\", !!privateKey);\n    }\n    const firebaseAdminConfig = {\n        credential: (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.cert)({\n            projectId: process.env.FIREBASE_PROJECT_ID,\n            clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n            privateKey: privateKey\n        })\n    };\n    // Inicializar solo si no hay instancias existentes\n    const app = (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseAdminConfig) : (0,firebase_admin_app__WEBPACK_IMPORTED_MODULE_0__.getApps)()[0];\n    // Exportar instancias\n    adminDb = (0,firebase_admin_firestore__WEBPACK_IMPORTED_MODULE_1__.getFirestore)(app);\n    adminAuth = (0,firebase_admin_auth__WEBPACK_IMPORTED_MODULE_2__.getAuth)(app);\n} catch (error) {\n    console.error(\"Firebase Admin initialization error:\", error);\n    // Create mock objects to prevent crashes\n    adminDb = null;\n    adminAuth = null;\n}\n\n// ============================================\n// Helper Functions\n// ============================================\n/**\r\n * Verifica si un usuario es administrador\r\n */ const isUserAdmin = async (email)=>{\n    const adminEmails = process.env.ADMIN_EMAILS?.split(\",\").map((e)=>e.trim()) || [];\n    return adminEmails.includes(email);\n};\n/**\r\n * Obtiene estadísticas globales de la app\r\n */ const getGlobalStats = async ()=>{\n    try {\n        // Usuarios totales\n        const usersSnapshot = await adminDb.collection(\"users\").count().get();\n        const totalUsers = usersSnapshot.data().count;\n        // Usuarios PRO\n        const proSnapshot = await adminDb.collection(\"users\").where(\"is_premium\", \"==\", true).count().get();\n        const proUsers = proSnapshot.data().count;\n        // Servicios del mes\n        const startOfMonth = new Date();\n        startOfMonth.setDate(1);\n        startOfMonth.setHours(0, 0, 0, 0);\n        const servicesSnapshot = await adminDb.collection(\"services\").where(\"createdAt\", \">=\", startOfMonth).count().get();\n        const servicesThisMonth = servicesSnapshot.data().count;\n        // Tokens en circulación (suma de balances)\n        const usersWithTokens = await adminDb.collection(\"users\").get();\n        let tokenFloat = 0;\n        usersWithTokens.docs.forEach((doc)=>{\n            tokenFloat += doc.data().token_balance || 0;\n        });\n        // Pedidos pendientes\n        const pendingOrdersSnapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).count().get();\n        const pendingOrders = pendingOrdersSnapshot.data().count;\n        return {\n            totalUsers,\n            proUsers,\n            servicesThisMonth,\n            tokenFloat,\n            pendingOrders\n        };\n    } catch (error) {\n        console.error(\"Error fetching global stats:\", error);\n        return null;\n    }\n};\n/**\r\n * Obtiene usuarios con paginación\r\n */ const getUsers = async (page = 1, limit = 20, searchQuery)=>{\n    try {\n        let query = adminDb.collection(\"users\").orderBy(\"createdAt\", \"desc\").limit(limit).offset((page - 1) * limit);\n        // TODO: Para búsqueda necesitaremos índices compuestos o Algolia/Typesense\n        // Por ahora retornamos sin filtro de búsqueda del lado del servidor\n        const snapshot = await query.get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching users:\", error);\n        return [];\n    }\n};\n/**\r\n * Actualiza un usuario\r\n */ const updateUser = async (userId, updates)=>{\n    try {\n        await adminDb.collection(\"users\").doc(userId).update({\n            ...updates,\n            updatedAt: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error updating user:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene órdenes pendientes\r\n */ const getPendingOrders = async ()=>{\n    try {\n        const snapshot = await adminDb.collection(\"orders\").where(\"status\", \"in\", [\n            \"paid\",\n            \"processing\"\n        ]).orderBy(\"createdAt\", \"desc\").get();\n        return snapshot.docs.map((doc)=>({\n                id: doc.id,\n                ...doc.data()\n            }));\n    } catch (error) {\n        console.error(\"Error fetching pending orders:\", error);\n        return [];\n    }\n};\n/**\r\n * Marca una orden como enviada\r\n */ const markOrderShipped = async (orderId, trackingNumber, trackingCarrier)=>{\n    try {\n        await adminDb.collection(\"orders\").doc(orderId).update({\n            status: \"shipped\",\n            trackingNumber,\n            trackingCarrier,\n            shippedAt: new Date()\n        });\n        // TODO: Disparar notificación push al usuario\n        return true;\n    } catch (error) {\n        console.error(\"Error marking order as shipped:\", error);\n        return false;\n    }\n};\n/**\r\n * Obtiene contenido flaggeado para moderación\r\n */ const getFlaggedContent = async ()=>{\n    try {\n        // Hilos flaggeados\n        const threadsSnapshot = await adminDb.collection(\"sos_threads\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        // Comentarios flaggeados\n        const commentsSnapshot = await adminDb.collection(\"sos_comments\").where(\"isOffensive\", \"==\", true).orderBy(\"createdAt\", \"desc\").limit(20).get();\n        const threads = threadsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"thread\",\n                ...doc.data()\n            }));\n        const comments = commentsSnapshot.docs.map((doc)=>({\n                id: doc.id,\n                type: \"comment\",\n                ...doc.data()\n            }));\n        return [\n            ...threads,\n            ...comments\n        ].sort((a, b)=>b.createdAt?.toDate?.() - a.createdAt?.toDate?.());\n    } catch (error) {\n        console.error(\"Error fetching flagged content:\", error);\n        return [];\n    }\n};\n/**\r\n * Acciones de moderación\r\n */ const moderateContent = async (contentId, contentType, action)=>{\n    try {\n        const collection = contentType === \"thread\" ? \"sos_threads\" : \"sos_comments\";\n        const docRef = adminDb.collection(collection).doc(contentId);\n        const doc = await docRef.get();\n        if (!doc.exists) {\n            throw new Error(\"Content not found\");\n        }\n        const authorId = doc.data()?.authorId;\n        switch(action){\n            case \"dismiss\":\n                await docRef.update({\n                    isOffensive: false,\n                    reviewedAt: new Date()\n                });\n                break;\n            case \"delete\":\n                await docRef.delete();\n                break;\n            case \"ban\":\n                await docRef.delete();\n                if (authorId) {\n                    await adminDb.collection(\"users\").doc(authorId).update({\n                        is_banned: true,\n                        bannedAt: new Date(),\n                        banReason: \"Contenido inapropiado\"\n                    });\n                }\n                break;\n        }\n        // Log de auditoría\n        await adminDb.collection(\"admin_logs\").add({\n            action: `moderation_${action}`,\n            contentId,\n            contentType,\n            authorId,\n            adminId: \"system\",\n            timestamp: new Date()\n        });\n        return true;\n    } catch (error) {\n        console.error(\"Error moderating content:\", error);\n        return false;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b3VyY2VzIjpbIndlYnBhY2s6Ly9xcmNsaW1hLWFkbWluLy4vbGliL2ZpcmViYXNlLWFkbWluLnRzPzZhNDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCwgZ2V0QXBwcywgY2VydCB9IGZyb20gJ2ZpcmViYXNlLWFkbWluL2FwcCc7XHJcbmltcG9ydCB7IGdldEZpcmVzdG9yZSB9IGZyb20gJ2ZpcmViYXNlLWFkbWluL2ZpcmVzdG9yZSc7XHJcbmltcG9ydCB7IGdldEF1dGggfSBmcm9tICdmaXJlYmFzZS1hZG1pbi9hdXRoJztcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIEZpcmViYXNlIEFkbWluIFNESyBDb25maWd1cmF0aW9uXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbi8vIFxyXG4vLyBJTlNUUlVDQ0lPTkVTIERFIENPTkZJR1VSQUNJw5NOOlxyXG4vLyBcclxuLy8gMS4gVmUgYSBGaXJlYmFzZSBDb25zb2xlID4gQ29uZmlndXJhY2nDs24gZGVsIHByb3llY3RvID4gQ3VlbnRhcyBkZSBzZXJ2aWNpb1xyXG4vLyAyLiBIYXogY2xpYyBlbiBcIkdlbmVyYXIgbnVldmEgY2xhdmUgcHJpdmFkYVwiXHJcbi8vIDMuIEd1YXJkYSBlbCBhcmNoaXZvIEpTT04gZGUgZm9ybWEgc2VndXJhXHJcbi8vIDQuIENvbmZpZ3VyYSBsYXMgdmFyaWFibGVzIGRlIGVudG9ybm86XHJcbi8vICAgIC0gRklSRUJBU0VfUFJPSkVDVF9JRFxyXG4vLyAgICAtIEZJUkVCQVNFX0NMSUVOVF9FTUFJTFxyXG4vLyAgICAtIEZJUkVCQVNFX1BSSVZBVEVfS0VZIChjb24gc2FsdG9zIGRlIGzDrW5lYSBlc2NhcGFkb3MgY29tbyBcXG4pXHJcbi8vIFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuLy8gUGFyc2UgcHJpdmF0ZSBrZXkgLSBoYW5kbGUgZGlmZmVyZW50IGVzY2FwZSBmb3JtYXRzXHJcbmNvbnN0IGZvcm1hdFByaXZhdGVLZXkgPSAoa2V5OiBzdHJpbmcgfCB1bmRlZmluZWQpOiBzdHJpbmcgfCB1bmRlZmluZWQgPT4ge1xyXG4gICAgaWYgKCFrZXkpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAvLyBSZW1vdmUgc3Vycm91bmRpbmcgcXVvdGVzIGlmIHByZXNlbnRcclxuICAgIGxldCBjbGVhbmVkID0ga2V5LnJlcGxhY2UoL15bXCInXXxbXCInXSQvZywgJycpO1xyXG4gICAgLy8gUmVwbGFjZSBsaXRlcmFsIFxcbiB3aXRoIGFjdHVhbCBuZXdsaW5lc1xyXG4gICAgY2xlYW5lZCA9IGNsZWFuZWQucmVwbGFjZSgvXFxcXG4vZywgJ1xcbicpO1xyXG4gICAgcmV0dXJuIGNsZWFuZWQ7XHJcbn07XHJcblxyXG5sZXQgYWRtaW5EYjogRmlyZWJhc2VGaXJlc3RvcmUuRmlyZXN0b3JlO1xyXG5sZXQgYWRtaW5BdXRoOiBSZXR1cm5UeXBlPHR5cGVvZiBnZXRBdXRoPjtcclxuXHJcbnRyeSB7XHJcbiAgICBjb25zdCBwcml2YXRlS2V5ID0gZm9ybWF0UHJpdmF0ZUtleShwcm9jZXNzLmVudi5GSVJFQkFTRV9QUklWQVRFX0tFWSk7XHJcblxyXG4gICAgaWYgKCFwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lEIHx8ICFwcm9jZXNzLmVudi5GSVJFQkFTRV9DTElFTlRfRU1BSUwgfHwgIXByaXZhdGVLZXkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmViYXNlIEFkbWluOiBNaXNzaW5nIHJlcXVpcmVkIGVudmlyb25tZW50IHZhcmlhYmxlcycpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRklSRUJBU0VfUFJPSkVDVF9JRDonLCAhIXByb2Nlc3MuZW52LkZJUkVCQVNFX1BST0pFQ1RfSUQpO1xyXG4gICAgICAgIGNvbnNvbGUud2FybignRklSRUJBU0VfQ0xJRU5UX0VNQUlMOicsICEhcHJvY2Vzcy5lbnYuRklSRUJBU0VfQ0xJRU5UX0VNQUlMKTtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ0ZJUkVCQVNFX1BSSVZBVEVfS0VZOicsICEhcHJpdmF0ZUtleSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZmlyZWJhc2VBZG1pbkNvbmZpZyA9IHtcclxuICAgICAgICBjcmVkZW50aWFsOiBjZXJ0KHtcclxuICAgICAgICAgICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lELFxyXG4gICAgICAgICAgICBjbGllbnRFbWFpbDogcHJvY2Vzcy5lbnYuRklSRUJBU0VfQ0xJRU5UX0VNQUlMLFxyXG4gICAgICAgICAgICBwcml2YXRlS2V5OiBwcml2YXRlS2V5LFxyXG4gICAgICAgIH0pLFxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBJbmljaWFsaXphciBzb2xvIHNpIG5vIGhheSBpbnN0YW5jaWFzIGV4aXN0ZW50ZXNcclxuICAgIGNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQWRtaW5Db25maWcpIDogZ2V0QXBwcygpWzBdO1xyXG5cclxuICAgIC8vIEV4cG9ydGFyIGluc3RhbmNpYXNcclxuICAgIGFkbWluRGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcclxuICAgIGFkbWluQXV0aCA9IGdldEF1dGgoYXBwKTtcclxufSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0ZpcmViYXNlIEFkbWluIGluaXRpYWxpemF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgIC8vIENyZWF0ZSBtb2NrIG9iamVjdHMgdG8gcHJldmVudCBjcmFzaGVzXHJcbiAgICBhZG1pbkRiID0gbnVsbCBhcyBhbnk7XHJcbiAgICBhZG1pbkF1dGggPSBudWxsIGFzIGFueTtcclxufVxyXG5cclxuZXhwb3J0IHsgYWRtaW5EYiwgYWRtaW5BdXRoIH07XHJcblxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBIZWxwZXIgRnVuY3Rpb25zXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4vKipcclxuICogVmVyaWZpY2Egc2kgdW4gdXN1YXJpbyBlcyBhZG1pbmlzdHJhZG9yXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgaXNVc2VyQWRtaW4gPSBhc3luYyAoZW1haWw6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gICAgY29uc3QgYWRtaW5FbWFpbHMgPSBwcm9jZXNzLmVudi5BRE1JTl9FTUFJTFM/LnNwbGl0KCcsJykubWFwKGUgPT4gZS50cmltKCkpIHx8IFtdO1xyXG4gICAgcmV0dXJuIGFkbWluRW1haWxzLmluY2x1ZGVzKGVtYWlsKTtcclxufTtcclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIGVzdGFkw61zdGljYXMgZ2xvYmFsZXMgZGUgbGEgYXBwXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0R2xvYmFsU3RhdHMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFVzdWFyaW9zIHRvdGFsZXNcclxuICAgICAgICBjb25zdCB1c2Vyc1NuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCd1c2VycycpLmNvdW50KCkuZ2V0KCk7XHJcbiAgICAgICAgY29uc3QgdG90YWxVc2VycyA9IHVzZXJzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICAvLyBVc3VhcmlvcyBQUk9cclxuICAgICAgICBjb25zdCBwcm9TbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKVxyXG4gICAgICAgICAgICAud2hlcmUoJ2lzX3ByZW1pdW0nLCAnPT0nLCB0cnVlKVxyXG4gICAgICAgICAgICAuY291bnQoKVxyXG4gICAgICAgICAgICAuZ2V0KCk7XHJcbiAgICAgICAgY29uc3QgcHJvVXNlcnMgPSBwcm9TbmFwc2hvdC5kYXRhKCkuY291bnQ7XHJcblxyXG4gICAgICAgIC8vIFNlcnZpY2lvcyBkZWwgbWVzXHJcbiAgICAgICAgY29uc3Qgc3RhcnRPZk1vbnRoID0gbmV3IERhdGUoKTtcclxuICAgICAgICBzdGFydE9mTW9udGguc2V0RGF0ZSgxKTtcclxuICAgICAgICBzdGFydE9mTW9udGguc2V0SG91cnMoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlcnZpY2VzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3NlcnZpY2VzJylcclxuICAgICAgICAgICAgLndoZXJlKCdjcmVhdGVkQXQnLCAnPj0nLCBzdGFydE9mTW9udGgpXHJcbiAgICAgICAgICAgIC5jb3VudCgpXHJcbiAgICAgICAgICAgIC5nZXQoKTtcclxuICAgICAgICBjb25zdCBzZXJ2aWNlc1RoaXNNb250aCA9IHNlcnZpY2VzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICAvLyBUb2tlbnMgZW4gY2lyY3VsYWNpw7NuIChzdW1hIGRlIGJhbGFuY2VzKVxyXG4gICAgICAgIGNvbnN0IHVzZXJzV2l0aFRva2VucyA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbigndXNlcnMnKS5nZXQoKTtcclxuICAgICAgICBsZXQgdG9rZW5GbG9hdCA9IDA7XHJcbiAgICAgICAgdXNlcnNXaXRoVG9rZW5zLmRvY3MuZm9yRWFjaChkb2MgPT4ge1xyXG4gICAgICAgICAgICB0b2tlbkZsb2F0ICs9IGRvYy5kYXRhKCkudG9rZW5fYmFsYW5jZSB8fCAwO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBQZWRpZG9zIHBlbmRpZW50ZXNcclxuICAgICAgICBjb25zdCBwZW5kaW5nT3JkZXJzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ29yZGVycycpXHJcbiAgICAgICAgICAgIC53aGVyZSgnc3RhdHVzJywgJ2luJywgWydwYWlkJywgJ3Byb2Nlc3NpbmcnXSlcclxuICAgICAgICAgICAgLmNvdW50KClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG4gICAgICAgIGNvbnN0IHBlbmRpbmdPcmRlcnMgPSBwZW5kaW5nT3JkZXJzU25hcHNob3QuZGF0YSgpLmNvdW50O1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0b3RhbFVzZXJzLFxyXG4gICAgICAgICAgICBwcm9Vc2VycyxcclxuICAgICAgICAgICAgc2VydmljZXNUaGlzTW9udGgsXHJcbiAgICAgICAgICAgIHRva2VuRmxvYXQsXHJcbiAgICAgICAgICAgIHBlbmRpbmdPcmRlcnMsXHJcbiAgICAgICAgfTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgZ2xvYmFsIHN0YXRzOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBPYnRpZW5lIHVzdWFyaW9zIGNvbiBwYWdpbmFjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldFVzZXJzID0gYXN5bmMgKFxyXG4gICAgcGFnZTogbnVtYmVyID0gMSxcclxuICAgIGxpbWl0OiBudW1iZXIgPSAyMCxcclxuICAgIHNlYXJjaFF1ZXJ5Pzogc3RyaW5nXHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgcXVlcnkgPSBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJylcclxuICAgICAgICAgICAgLm9yZGVyQnkoJ2NyZWF0ZWRBdCcsICdkZXNjJylcclxuICAgICAgICAgICAgLmxpbWl0KGxpbWl0KVxyXG4gICAgICAgICAgICAub2Zmc2V0KChwYWdlIC0gMSkgKiBsaW1pdCk7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IFBhcmEgYsO6c3F1ZWRhIG5lY2VzaXRhcmVtb3Mgw61uZGljZXMgY29tcHVlc3RvcyBvIEFsZ29saWEvVHlwZXNlbnNlXHJcbiAgICAgICAgLy8gUG9yIGFob3JhIHJldG9ybmFtb3Mgc2luIGZpbHRybyBkZSBiw7pzcXVlZGEgZGVsIGxhZG8gZGVsIHNlcnZpZG9yXHJcblxyXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgcXVlcnkuZ2V0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgICAgICB9KSk7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXJzOicsIGVycm9yKTtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogQWN0dWFsaXphIHVuIHVzdWFyaW9cclxuICovXHJcbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyID0gYXN5bmMgKFxyXG4gICAgdXNlcklkOiBzdHJpbmcsXHJcbiAgICB1cGRhdGVzOiB7XHJcbiAgICAgICAgaXNfYmFubmVkPzogYm9vbGVhbjtcclxuICAgICAgICBpc19wcmVtaXVtPzogYm9vbGVhbjtcclxuICAgICAgICBlbGlnaWJsZV9mb3JfZGlyZWN0b3J5PzogYm9vbGVhbjtcclxuICAgICAgICB0b2tlbl9iYWxhbmNlPzogbnVtYmVyO1xyXG4gICAgfVxyXG4pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCd1c2VycycpLmRvYyh1c2VySWQpLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIC4uLnVwZGF0ZXMsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdXBkYXRpbmcgdXNlcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgw7NyZGVuZXMgcGVuZGllbnRlc1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldFBlbmRpbmdPcmRlcnMgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHNuYXBzaG90ID0gYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdvcmRlcnMnKVxyXG4gICAgICAgICAgICAud2hlcmUoJ3N0YXR1cycsICdpbicsIFsncGFpZCcsICdwcm9jZXNzaW5nJ10pXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5nZXQoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcGVuZGluZyBvcmRlcnM6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBNYXJjYSB1bmEgb3JkZW4gY29tbyBlbnZpYWRhXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgbWFya09yZGVyU2hpcHBlZCA9IGFzeW5jIChcclxuICAgIG9yZGVySWQ6IHN0cmluZyxcclxuICAgIHRyYWNraW5nTnVtYmVyOiBzdHJpbmcsXHJcbiAgICB0cmFja2luZ0NhcnJpZXI6IHN0cmluZ1xyXG4pID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYWRtaW5EYi5jb2xsZWN0aW9uKCdvcmRlcnMnKS5kb2Mob3JkZXJJZCkudXBkYXRlKHtcclxuICAgICAgICAgICAgc3RhdHVzOiAnc2hpcHBlZCcsXHJcbiAgICAgICAgICAgIHRyYWNraW5nTnVtYmVyLFxyXG4gICAgICAgICAgICB0cmFja2luZ0NhcnJpZXIsXHJcbiAgICAgICAgICAgIHNoaXBwZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogRGlzcGFyYXIgbm90aWZpY2FjacOzbiBwdXNoIGFsIHVzdWFyaW9cclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1hcmtpbmcgb3JkZXIgYXMgc2hpcHBlZDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIE9idGllbmUgY29udGVuaWRvIGZsYWdnZWFkbyBwYXJhIG1vZGVyYWNpw7NuXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2V0RmxhZ2dlZENvbnRlbnQgPSBhc3luYyAoKSA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEhpbG9zIGZsYWdnZWFkb3NcclxuICAgICAgICBjb25zdCB0aHJlYWRzU25hcHNob3QgPSBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3Nvc190aHJlYWRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICAvLyBDb21lbnRhcmlvcyBmbGFnZ2VhZG9zXHJcbiAgICAgICAgY29uc3QgY29tbWVudHNTbmFwc2hvdCA9IGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignc29zX2NvbW1lbnRzJylcclxuICAgICAgICAgICAgLndoZXJlKCdpc09mZmVuc2l2ZScsICc9PScsIHRydWUpXHJcbiAgICAgICAgICAgIC5vcmRlckJ5KCdjcmVhdGVkQXQnLCAnZGVzYycpXHJcbiAgICAgICAgICAgIC5saW1pdCgyMClcclxuICAgICAgICAgICAgLmdldCgpO1xyXG5cclxuICAgICAgICBjb25zdCB0aHJlYWRzID0gdGhyZWFkc1NuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xyXG4gICAgICAgICAgICBpZDogZG9jLmlkLFxyXG4gICAgICAgICAgICB0eXBlOiAndGhyZWFkJyBhcyBjb25zdCxcclxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKSxcclxuICAgICAgICB9KSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNvbW1lbnRzID0gY29tbWVudHNTbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcclxuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcclxuICAgICAgICAgICAgdHlwZTogJ2NvbW1lbnQnIGFzIGNvbnN0LFxyXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpLFxyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIFsuLi50aHJlYWRzLCAuLi5jb21tZW50c10uc29ydCgoYTogYW55LCBiOiBhbnkpID0+XHJcbiAgICAgICAgICAgIGIuY3JlYXRlZEF0Py50b0RhdGU/LigpIC0gYS5jcmVhdGVkQXQ/LnRvRGF0ZT8uKClcclxuICAgICAgICApO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBmbGFnZ2VkIGNvbnRlbnQ6JywgZXJyb3IpO1xyXG4gICAgICAgIHJldHVybiBbXTtcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBBY2Npb25lcyBkZSBtb2RlcmFjacOzblxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IG1vZGVyYXRlQ29udGVudCA9IGFzeW5jIChcclxuICAgIGNvbnRlbnRJZDogc3RyaW5nLFxyXG4gICAgY29udGVudFR5cGU6ICd0aHJlYWQnIHwgJ2NvbW1lbnQnLFxyXG4gICAgYWN0aW9uOiAnZGlzbWlzcycgfCAnZGVsZXRlJyB8ICdiYW4nXHJcbikgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb2xsZWN0aW9uID0gY29udGVudFR5cGUgPT09ICd0aHJlYWQnID8gJ3Nvc190aHJlYWRzJyA6ICdzb3NfY29tbWVudHMnO1xyXG4gICAgICAgIGNvbnN0IGRvY1JlZiA9IGFkbWluRGIuY29sbGVjdGlvbihjb2xsZWN0aW9uKS5kb2MoY29udGVudElkKTtcclxuICAgICAgICBjb25zdCBkb2MgPSBhd2FpdCBkb2NSZWYuZ2V0KCk7XHJcblxyXG4gICAgICAgIGlmICghZG9jLmV4aXN0cykge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbnRlbnQgbm90IGZvdW5kJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhdXRob3JJZCA9IGRvYy5kYXRhKCk/LmF1dGhvcklkO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKGFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlICdkaXNtaXNzJzpcclxuICAgICAgICAgICAgICAgIGF3YWl0IGRvY1JlZi51cGRhdGUoeyBpc09mZmVuc2l2ZTogZmFsc2UsIHJldmlld2VkQXQ6IG5ldyBEYXRlKCkgfSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2RlbGV0ZSc6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2Jhbic6XHJcbiAgICAgICAgICAgICAgICBhd2FpdCBkb2NSZWYuZGVsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYXV0aG9ySWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBhZG1pbkRiLmNvbGxlY3Rpb24oJ3VzZXJzJykuZG9jKGF1dGhvcklkKS51cGRhdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc19iYW5uZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhbm5lZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5SZWFzb246ICdDb250ZW5pZG8gaW5hcHJvcGlhZG8nLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBMb2cgZGUgYXVkaXRvcsOtYVxyXG4gICAgICAgIGF3YWl0IGFkbWluRGIuY29sbGVjdGlvbignYWRtaW5fbG9ncycpLmFkZCh7XHJcbiAgICAgICAgICAgIGFjdGlvbjogYG1vZGVyYXRpb25fJHthY3Rpb259YCxcclxuICAgICAgICAgICAgY29udGVudElkLFxyXG4gICAgICAgICAgICBjb250ZW50VHlwZSxcclxuICAgICAgICAgICAgYXV0aG9ySWQsXHJcbiAgICAgICAgICAgIGFkbWluSWQ6ICdzeXN0ZW0nLCAvLyBUT0RPOiBPYnRlbmVyIGRlbCB1c3VhcmlvIGF1dGVudGljYWRvXHJcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKSxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG1vZGVyYXRpbmcgY29udGVudDonLCBlcnJvcik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJjZXJ0IiwiZ2V0RmlyZXN0b3JlIiwiZ2V0QXV0aCIsImZvcm1hdFByaXZhdGVLZXkiLCJrZXkiLCJ1bmRlZmluZWQiLCJjbGVhbmVkIiwicmVwbGFjZSIsImFkbWluRGIiLCJhZG1pbkF1dGgiLCJwcml2YXRlS2V5IiwicHJvY2VzcyIsImVudiIsIkZJUkVCQVNFX1BSSVZBVEVfS0VZIiwiRklSRUJBU0VfUFJPSkVDVF9JRCIsIkZJUkVCQVNFX0NMSUVOVF9FTUFJTCIsImNvbnNvbGUiLCJ3YXJuIiwiZmlyZWJhc2VBZG1pbkNvbmZpZyIsImNyZWRlbnRpYWwiLCJwcm9qZWN0SWQiLCJjbGllbnRFbWFpbCIsImFwcCIsImxlbmd0aCIsImVycm9yIiwiaXNVc2VyQWRtaW4iLCJlbWFpbCIsImFkbWluRW1haWxzIiwiQURNSU5fRU1BSUxTIiwic3BsaXQiLCJtYXAiLCJlIiwidHJpbSIsImluY2x1ZGVzIiwiZ2V0R2xvYmFsU3RhdHMiLCJ1c2Vyc1NuYXBzaG90IiwiY29sbGVjdGlvbiIsImNvdW50IiwiZ2V0IiwidG90YWxVc2VycyIsImRhdGEiLCJwcm9TbmFwc2hvdCIsIndoZXJlIiwicHJvVXNlcnMiLCJzdGFydE9mTW9udGgiLCJEYXRlIiwic2V0RGF0ZSIsInNldEhvdXJzIiwic2VydmljZXNTbmFwc2hvdCIsInNlcnZpY2VzVGhpc01vbnRoIiwidXNlcnNXaXRoVG9rZW5zIiwidG9rZW5GbG9hdCIsImRvY3MiLCJmb3JFYWNoIiwiZG9jIiwidG9rZW5fYmFsYW5jZSIsInBlbmRpbmdPcmRlcnNTbmFwc2hvdCIsInBlbmRpbmdPcmRlcnMiLCJnZXRVc2VycyIsInBhZ2UiLCJsaW1pdCIsInNlYXJjaFF1ZXJ5IiwicXVlcnkiLCJvcmRlckJ5Iiwib2Zmc2V0Iiwic25hcHNob3QiLCJpZCIsInVwZGF0ZVVzZXIiLCJ1c2VySWQiLCJ1cGRhdGVzIiwidXBkYXRlIiwidXBkYXRlZEF0IiwiZ2V0UGVuZGluZ09yZGVycyIsIm1hcmtPcmRlclNoaXBwZWQiLCJvcmRlcklkIiwidHJhY2tpbmdOdW1iZXIiLCJ0cmFja2luZ0NhcnJpZXIiLCJzdGF0dXMiLCJzaGlwcGVkQXQiLCJnZXRGbGFnZ2VkQ29udGVudCIsInRocmVhZHNTbmFwc2hvdCIsImNvbW1lbnRzU25hcHNob3QiLCJ0aHJlYWRzIiwidHlwZSIsImNvbW1lbnRzIiwic29ydCIsImEiLCJiIiwiY3JlYXRlZEF0IiwidG9EYXRlIiwibW9kZXJhdGVDb250ZW50IiwiY29udGVudElkIiwiY29udGVudFR5cGUiLCJhY3Rpb24iLCJkb2NSZWYiLCJleGlzdHMiLCJFcnJvciIsImF1dGhvcklkIiwiaXNPZmZlbnNpdmUiLCJyZXZpZXdlZEF0IiwiZGVsZXRlIiwiaXNfYmFubmVkIiwiYmFubmVkQXQiLCJiYW5SZWFzb24iLCJhZGQiLCJhZG1pbklkIiwidGltZXN0YW1wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/firebase-admin.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fauth%2Flogin%2Froute&page=%2Fapi%2Fauth%2Flogin%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fauth%2Flogin%2Froute.ts&appDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CTESIVIL%5CAWS-TESIVIL%5CAWS-TESIVIL%5C07_QRCLIMA_ADMIN&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();